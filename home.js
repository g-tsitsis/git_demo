/******/!function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:!1};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}// webpackBootstrap
/******/
var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.p="",__webpack_require__(0)}([function(module,exports,__webpack_require__){module.exports=__webpack_require__(174)},,,,,function(module,exports,__webpack_require__){"use strict";function apiRun($rootScope,components_api_apiService,components_session_sessionService,components_session_sessionTimeout){function _init(){components_session_sessionService.isAuthorized()&&components_session_sessionTimeout.startTimer()}function isAuthorized(){return components_api_apiService.isAuthorized()}function logout(){return components_api_apiService.logout()}function user(){return components_session_sessionService.getUser()}_.extend($rootScope,{isAuthorized:isAuthorized,logout:logout,user:user}),_init()}var ngModuleName="components_api";window.corona.api=__webpack_require__(6),angular.module(ngModuleName,[__webpack_require__(7),__webpack_require__(10),"ngResource"]).factory("components_api_apiService",__webpack_require__(16)).factory("components_api_cachebuster",__webpack_require__(17)).config(function($httpProvider){$httpProvider.interceptors.push("components_api_cachebuster")}).run(apiRun),module.exports=ngModuleName},function(module,exports){"use strict";module.exports={availableSurveys:"survey/sts/fmas",captcha:"captcha",contactUs:"contactus",flareFormGeo:"postal/:locale/:rootId/:fieldId/:geoId",flareFormRule:"form/field/validate",form:"form/panel/:panelId/blueprint/:blueprint/locale/:locale/type/:formType",formSubmit:"form/submit",formAuthSubmit:"form/submitauth",postalCodeByLocale:"postal/:locale/:postalCode",logUnloadReport:"log/unload/report",profilerRender:"survey/profiler/render/:token",respondent:"respondent",respondentById:"respondent/:id",respondentAlternateEmail:"respondent/alternateEmail",respondentActivation:"respondent/activation",respondentBalance:"respondent/balance",respondentBadges:"badge/respondent",respondentByToken:"respondent/:id/token/:token",respondentCoreg:"coreg/finish",respondentContactUs:"respondent/contactus",respondentDoi:"respondent/doi",respondentEnroll:"respondent/enroll",respondentGetAvailableSurvey:"respondent/survey",respondentSecurityQuestion:"respondent/securityQuestion",respondentRegisterByLocale:"respondent/register/:locale",respondentPasswordChange:"respondent/password/change",respondentPasswordReset:"respondent/password/reset",respondentProfilerStatus:"respondent/profiler/status",respondentProfilerStatusNew:"respondent/profiler/statusnew",respondentProfilerStatusToken:"respondent/profiler/status/:token",respondentResendConfirmationEmail:"respondent/resendConfirmationEmail",respondentResendEcode:"respondent/redemption/:id/resend",respondentRewards:"respondent/reward/locale/:locale",respondentRewardHistory:"respondent/history/reward",respondentRewardRedemption:"respondent/redemption",respondentSurveyHistory:"respondent/history/survey",respondentTokencheck:"respondent/tokencheck",respondentUnsubscribe:"respondent/unsubscribe",rewardFormsByRewardIds:"reward/form",rewardRedeem:"form/reward/redeem",rewardsByPanelId:"rewards/panel/:panelId/locale/:locale",securityQuestionByLocale:"securityQuestion/:locale",surveyRender:"survey/render",screenerRender:"survey/screener/render",geoScreenerRender:"survey/screener/render/geo"}},function(module,exports,__webpack_require__){"use strict";var ngModuleName="components_helpers";angular.module(ngModuleName,[]).directive("convertToNumber",__webpack_require__(8)).factory("components_helpers",__webpack_require__(9)),module.exports=ngModuleName},function(module,exports){"use strict";module.exports=function(){return{require:"ngModel",link:function(scope,element,attrs,ngModel){ngModel.$parsers.push(function(val){return val?parseInt(val,10):""}),ngModel.$formatters.push(function(val){return val?""+val:""})}}}},function(module,exports){"use strict";module.exports=function($anchorScroll,$sce,$location,$rootScope,$timeout){function _init(){_.extend($rootScope,{unsafeHTML:unsafeHTML,scrollTo:scrollTo})}function convertUnixToMs(validUnixTimeStampsAreInSeconds){return 1e3*validUnixTimeStampsAreInSeconds}function createCookie(name,value,exp){var expDate,cookieStr,domain=getCookieDomain();return exp?expDate=exp:(expDate=new Date,expDate.setMonth(expDate.getMonth()+36),expDate=expDate.toUTCString()),value=encodeURIComponent(value),cookieStr=name+"="+value+";expires="+expDate+";domain="+domain+";path=/",document.cookie=cookieStr,cookieStr}function getCookie(name){var re=new RegExp(name+"=([^;]+)"),value=re.exec(document.cookie);return value=null!==value?unescape(value[1]):null}function getCookieDomain(){var domain=window.corona.cookieDomain;return isUnitTest()&&(domain=""),domain}function getSiteBaseUrl(){var url;return url=$location.$$protocol+"://"+$location.$$host,$location.$$port&&"443"!==$location.$$port.toString()&&(url+=":"+$location.$$port),url}function getUrlVars(urlVarsStr){var hash,hashes,vars=[],urlStr=window.location.href;urlVarsStr&&(urlStr=urlVarsStr),hashes=urlStr.slice(urlStr.indexOf("?")+1).split("&");for(var i=0;i<hashes.length;i++)hash=hashes[i].split("="),vars.push(hash[0]),vars[hash[0]]=hash[1];return vars}function isUnitTest(){return"http://server/"===$location.$$absUrl}function getUrlVarsAsMap(urlVarsStr){var hash,hashes,vars=[],urlStr=window.location.href;urlVarsStr&&(urlStr=urlVarsStr),hashes=urlStr.slice(urlStr.indexOf("?")+1).split("&");for(var i=0;i<hashes.length;i++){hash=hashes[i].split("=");var parm={};parm.key=hash[0],parm.val=hash[1],vars.push(parm)}return vars}function redirectTo(url){var redirectUrl=getSiteBaseUrl()+url;return isUnitTest()||(window.location=redirectUrl),redirectUrl}function removeCookie(name){document.cookie=name+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;domain="+getCookieDomain()+";path=/"}function removeInvalidCookies(){var splitCookie,cookiesRemoved=[];return $.each(document.cookie.split(/; */),function(){splitCookie=this.split("="),splitCookie.length>1&&splitCookie[1].indexOf("\\")>-1&&(removeCookie(splitCookie[0]),cookiesRemoved.push(splitCookie[0]))}),cookiesRemoved}function scrollTo(id){window.location.hash="/",$timeout(function(){$location.hash(id),$anchorScroll(id)})}function stripHTML(text){return String(text).replace(/<[^>]+>/gm,"")}function transformToFacetedSearch(data){var preparedString="",startTilde="";return _.each(data,function(obj,key){""!==preparedString&&(startTilde="~~"),""!==obj.toString()&&(preparedString+=startTilde+key+"~"+obj.toString())}),""===preparedString?null:preparedString}function unsafeHTML(html){return $sce.trustAsHtml(html)}return _init(),{convertUnixToMs:convertUnixToMs,createCookie:createCookie,getCookie:getCookie,getCookieDomain:getCookieDomain,getSiteBaseUrl:getSiteBaseUrl,getUrlVars:getUrlVars,getUrlVarsAsMap:getUrlVarsAsMap,isUnitTest:isUnitTest,redirectTo:redirectTo,removeCookie:removeCookie,removeInvalidCookies:removeInvalidCookies,scrollTo:scrollTo,stripHTML:stripHTML,transformToFacetedSearch:transformToFacetedSearch,unsafeHTML:unsafeHTML}}},function(module,exports,__webpack_require__){"use strict";var ngModuleName="components_session";angular.module(ngModuleName,[__webpack_require__(7),__webpack_require__(11)]).factory("components_session_sessionService",__webpack_require__(14)).factory("components_session_sessionTimeout",__webpack_require__(15)),module.exports=ngModuleName},function(module,exports,__webpack_require__){"use strict";var ngModuleName="components_modal";__webpack_require__(12),angular.module(ngModuleName,["ui.bootstrap"]).factory("components_modal_modalService",__webpack_require__(13)),module.exports=ngModuleName},function(module,exports){var path="/public/shared/components/modal/html/modal.html",html='<div class="component-modal {{modalClass}}"> <div class="modal fade {{animateState}}" ng-style="{\'z-index\': 1050 + id*10}"> <div class="modal ng-scope" id=modal{{id}} role=dialog aria-labelledby={{type}}ModalLabel> <div class=modal-dialog ng-style="{width: width}"> <div class=modal-content> <div class="modal-header dialog-header-{{type}}"> <button type=button class=close ng-click=close()>×</button> <h4 class="modal-title ng-binding"> <span class="fa {{icon}}"></span> {{title}} </h4> </div> <div class="modal-body ng-binding"> {{message}} </div> <div class=modal-footer ng-show="buttons != \'\'"> {{buttons}} </div> </div> </div> </div> </div> <div class="modal-backdrop fade {{animateState}}" ng-style="{\'z-index\': 1040 + id*10}"></div> </div>';window.angular.module("ng").run(["$templateCache",function(c){c.put(path,html)}]),module.exports=path},function(module,exports){"use strict";module.exports=function($compile,$interpolate,$rootScope,$sce,$templateCache,$timeout){function adjustModal(modalScope){modalScope.width&&$timeout($(window).width()<modalScope.width?function(){return modalScope.width="auto"}:function(){return modalScope.width=modalScope.width+"px"})}function close(){var modalScope=this;$(window).off("resize.modal"+modalId),$timeout(function(){modalScope.animateState="out"},10),$timeout(function(){angular.element(modalScope.element).remove()},1e3),$("body").removeClass("modal-open")}function create(obj){modalId++;var modalScope,element=document.createElement("div"),modalObj={title:"Modal Title",message:"Please pass a message to this modal",type:"notify",icon:"",buttons:'<button type="button" ng-click="close()" class="btn gray">'+window.corona.getGlobalTranslation("forms_help_close")+"</button>",id:modalId,animateState:"",width:"",close:close};modalObj=_.extend(modalObj,obj),"confirm"==modalObj.type&&(modalObj.icon="fa-check-circle"),"notify"==modalObj.type&&(modalObj.icon="fa-info-circle"),"error"==modalObj.type&&(modalObj.icon="fa-exclamation-circle"),modalScope=_.extend($rootScope.$new(),modalObj);var template=$templateCache.get("/public/shared/components/modal/html/modal.html");return template=template.replace(/\{\{buttons\}\}/g,modalScope.buttons),template=template.replace(/\{\{message\}\}/g,modalScope.message),element.innerHTML=template,$compile(element)(modalScope),modalScope.element=element,$("body").append(element),$("body").addClass("modal-open"),$timeout(function(){modalScope.animateState="in",adjustModal(modalScope)},10),$(window).on("resize.modal"+modalId,function(){return adjustModal(modalScope)}),modalScope}var modalId=0;return{close:close,create:create}}},function(module,exports){"use strict";module.exports=function($location,components_helpers,components_session_sessionTimeout){function _init(){getUser()}function checkAndRemoveSession(){var url;return components_helpers.getCookie("corona_rememberMe")?(url=$location.$$protocol+"://"+$location.$$host,$location.$$port&&(url+=":"+$location.$$port),url+="/auth/dashboard.html","http://server/"!==$location.$$absUrl&&(self.location=url),url):removeSession()}function getUser(){return user}function isAuthorized(){return!!components_helpers.getCookie("corona_session")}function removeSession(){return components_helpers.removeCookie("corona_rememberMe"),components_helpers.removeCookie("corona_session"),components_helpers.removeCookie("corona_user"),components_helpers.removeCookie("corona_greeting"),window.sessionStorage.removeItem("percentComplete"),getUser()}function updateUserSession(sessionId,expiration,rememberMe,userLocale){return expiration&&(expiration=new Date(expiration).toUTCString()),components_helpers.getCookie("corona_locale")||userLocale&&components_helpers.createCookie("corona_locale",userLocale),rememberMe&&components_helpers.createCookie("corona_rememberMe","true"),components_helpers.createCookie("corona_session",sessionId,expiration)}function updateUserInfo(userInfo){return user=_.extend(user,userInfo),getUser()}var user={balance:""};return _init(),{checkAndRemoveSession:checkAndRemoveSession,getUser:getUser,isAuthorized:isAuthorized,removeSession:removeSession,updateUserInfo:updateUserInfo,updateUserSession:updateUserSession,user:user}}},function(module,exports){"use strict";module.exports=function($http,$interval,$rootScope,components_modal_modalService){function showReminder(){var modal=components_modal_modalService.create({title:window.corona.getGlobalTranslation("components_session_inactivityTitle"),type:"error",secondsRemaining:countDownSeconds,continueSession:function(){this.close(),startTimer()},message:window.corona.getGlobalTranslation("components_session_inactivityMessage"),buttons:'<button type="button" class="btn gray" ng-click="continueSession()">'+window.corona.getGlobalTranslation("components_session_inactivityContinueWorking")+"</button>"});return startInactivityCountdown(modal),modal}function startTimer(){return!1}function startInactivityCountdown(modal){countdownInterval&&$interval.cancel(countdownInterval),countdownInterval=$interval(function(){modal.secondsRemaining--,modal.secondsRemaining<1&&(modal.close(),$rootScope.logout())},1e3)}var countDownSeconds=60,countdownInterval=null;return{showReminder:showReminder,startTimer:startTimer,startInactivityCountdown:startInactivityCountdown}}},function(module,exports){"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol?"symbol":typeof obj};module.exports=function($http,$q,$resource,$location,$timeout,components_helpers,components_session_sessionService){function contractMode(flag){return"boolean"==typeof flag&&(window.localStorage.contractMode=flag,flag&&!components_helpers.getCookie("corona_session")&&components_helpers.createCookie("corona_session","contractMode")),getContractMode()}function create(url,defaults,actions){url=apiEndpoint+url;var headers={"Content-Type":"text/plain",panelDomainId:window.corona.panelDomainId};actions||(actions={query:{isArray:!1,withCredentials:!0,headers:headers},update:{method:"PUT",withCredentials:!0,headers:headers},save:{method:"POST",withCredentials:!0,headers:headers},get:{method:"GET",withCredentials:!0,headers:headers},"delete":{method:"DELETE",withCredentials:!0,headers:headers}});var generatedResource=$resource(url,defaults,actions);return _.extend(generatedResource,{errorHandlers:{redirectToLogin:redirectToLogin,redirectToDashboard:redirectToDashboard},errorHandler:errorHandler,contract:"",model:null,modelState:"init",url:url,reset:reset,get:createAndHandleResource.call(generatedResource,"get"),save:createAndHandleResource.call(generatedResource,"save"),query:createAndHandleResource.call(generatedResource,"query"),remove:createAndHandleResource.call(generatedResource,"remove"),"delete":createAndHandleResource.call(generatedResource,"delete"),update:createAndHandleResource.call(generatedResource,"update"),_get:generatedResource.get,_save:generatedResource.save,_query:generatedResource.query,_remove:generatedResource["delete"],_delete:generatedResource["delete"],_update:generatedResource.update}),generatedResource}function tpAssetInterceptor(results){var earlyResolve={then:function(callback){return callback()}},addAsset=function(assetURL){var deferred=$q.defer(),separator=-1===assetURL.indexOf("?")?"?":"&";assetURL="//"+assetURL+separator+"_cache="+(new Date).getTime();var img=document.createElement("img");return img.src=assetURL,img.className="tpasset",img.style.opacity=0,img.style.position="fixed",img.style.top="-2000px",img.style.left="-2000px",img.style.zindex=-1e3,document.body.appendChild(img),img.onload=function(){return deferred.resolve()},$timeout(deferred.resolve,2e3),deferred.promise};return results&&results.response?"object"!==_typeof(results.response)?earlyResolve:results.response.length?earlyResolve:results.response.tpasset&&results.response.tpasset.url?addAsset(results.response.tpasset.url):earlyResolve:earlyResolve}function createAndHandleResource(method){var generatedResource=this;return function(data){var deferred=$q.defer();return getContractMode()&&generatedResource.contract?(getContract.call(generatedResource,method,deferred),deferred.promise):(generatedResource.modelState="loading",generatedResource["_"+method](data,function(response,responseHeaders){updateSessionBasedOnHeaders(responseHeaders())}).$promise.then(function(response){tpAssetInterceptor(response).then(function(){generatedResource.modelState="loaded","get"===method&&(response.response?generatedResource.model=response.response:response.result&&(generatedResource.model=response.result)),deferred.resolve(response)})})["catch"](function(err){tpAssetInterceptor(err).then(function(){handleErrorResponses.call(generatedResource,err),generatedResource.modelState="loaded",deferred.reject(err)})}),deferred.promise)}}function getBaseURL(){var url=$location.$$protocol+"://"+$location.$$host,isTranslation=$location.absUrl().match(new RegExp(/(translation\/.*?\/.*?)\/.*/));return $location.$$port&&(url+=":"+$location.$$port),isTranslation&&(url+="/"+isTranslation[1]),url}function getContract(method,deferred){var generatedResource=this;generatedResource.modelState="pending",$http.get(this.contract).success(function(data){var results=data.response;"get"===method&&data.response.length&&(results=data.response[0]),generatedResource.modelState="loaded",generatedResource.model=data.response,deferred.resolve(data)}).error(function(data){generatedResource.modelState="loaded",deferred.reject(data)})}function getContractMode(){return window.localStorage&&window.localStorage.contractMode?"true"===window.localStorage.contractMode:!1}function handleErrorResponses(err){switch(err.status){case 401:return this.errorHandlers.redirectToLogin();case 403:return this.errorHandlers.redirectToDashboard()}}function errorHandler(controllerHandlers){return _.extend(this.errorHandlers,controllerHandlers),controllerHandlers}function login(credentials){var deferred=$q.defer();return sessionService.removeSession(),loginService.save(credentials).then(function(_ref){var response=_ref.response,userLocale=void 0;response.languageCode&&(userLocale=response.languageCode+"_"+response.countryCode.toLowerCase()),sessionService.updateUserInfo(response),sessionService.updateUserSession(response.sessionId,response.sessionExpDate,credentials.keepLogin,userLocale),deferred.resolve(sessionService.getUser())},function(err){deferred.reject(err)}),deferred.promise}function logout(){var deferred=$q.defer();return logoutService.get().then(function(){sessionService.removeSession(),deferred.resolve(redirectToHome())},function(){sessionService.removeSession(),deferred.resolve(redirectToHome())}),deferred.promise}function redirectToHome(){return"http://server/"!==$location.$$absUrl&&(self.location=getBaseURL()+"/index"),getBaseURL()+"/index"}function redirectToLogin(){return"http://server/"!==$location.$$absUrl&&(sessionService.removeSession(),window.contractMode()||(self.location=getBaseURL()+"/login")),getBaseURL()+"/login"}function redirectToDashboard(){return"http://server/"!==$location.$$absUrl&&(self.location=getBaseURL()+"/auth/dashboard"),getBaseURL()+"/auth/dashboard"}function redirectToMandatoryReset(){return"http://server/"!==$location.$$absUrl&&(self.location=getBaseURL()+"/mandatoryResetPassword"),getBaseURL()+"/mandatoryResetPassword"}function reset(){this.model=null,this.modelState="init"}function updateSessionBasedOnHeaders(headers){var sessionId=components_helpers.getCookie("corona_session");headers.sessionexpdate&&sessionService.updateUserSession(sessionId,new Date(parseInt(headers.sessionexpdate)).toUTCString())}window.contractMode=contractMode;var apiEndpoint=window.corona.apiUrl?window.corona.apiUrl:"//nova-flare-dev.researchnow.com/api/1/",loginService=create("respondent/login"),logoutService=create("respondent/logout"),sessionService=components_session_sessionService;return{create:create,contractMode:contractMode,getBaseURL:getBaseURL,getContract:getContract,getContractMode:getContractMode,handleErrorResponses:handleErrorResponses,login:login,logout:logout,redirectToDashboard:redirectToDashboard,redirectToHome:redirectToHome,redirectToLogin:redirectToLogin,redirectToMandatoryReset:redirectToMandatoryReset,tpAssetInterceptor:tpAssetInterceptor,updateSessionBasedOnHeaders:updateSessionBasedOnHeaders}}},function(module,exports){"use strict";module.exports=function(){var separator;return{request:function(config){return-1===config.url.indexOf(window.corona.apiUrl)?config:(separator=-1===config.url.indexOf("?")?"?":"&",config.url=config.url+separator+"_cache="+(new Date).getTime(),config)}}}},,,function(module,exports){"use strict";function IconDirective($compile){var counter=0;return{restrict:"A",scope:{image:"@image","class":"@class"},link:function(scope,el){if(!el[0].hasAttribute("loaded")){counter++;var svgEl=document.createElement("div");svgEl.innerHTML=window.svg[scope.image].replace("Layer_1","icon_component_"+counter).replace("XML","icon_"+counter),el.attr("aria-hidden",!0),el[0].innerHTML=svgEl.innerHTML}}}}var ngModuleName="components_icons";angular.module(ngModuleName,[]).directive("icon",IconDirective),module.exports=ngModuleName},,,function(module,exports,__webpack_require__){"use strict";var ngModuleName="components_checklist";angular.module(ngModuleName,[]).directive("checklistModel",__webpack_require__(24)),module.exports=ngModuleName},function(module,exports){"use strict";module.exports=function($parse,$compile){function contains(arr,item){if(angular.isArray(arr))for(var i=0;i<arr.length;i++)if(angular.equals(arr[i],item))return!0;return!1}function add(arr,item){arr=angular.isArray(arr)?arr:[];for(var i=0;i<arr.length;i++)if(angular.equals(arr[i],item))return arr;return arr.push(item),arr}function remove(arr,item){if(angular.isArray(arr))for(var i=0;i<arr.length;i++)if(angular.equals(arr[i],item)){arr.splice(i,1);break}return arr}function postLinkFn(scope,elem,attrs){var getter=$parse(attrs.checklistModel),setter=getter.assign,value=$parse(attrs.checklistValue)(scope.$parent);$compile(elem)(scope),scope.$watch("checked",function(newValue,oldValue){if(newValue!==oldValue){var current=getter(scope.$parent);newValue===!0?setter(scope.$parent,add(current,value)):setter(scope.$parent,remove(current,value))}}),scope.$parent.$watch(attrs.checklistModel,function(newArr,oldArr){scope.checked=contains(newArr,value)},!0)}return{restrict:"A",priority:1e3,terminal:!0,scope:!0,compile:function(tElement,tAttrs){if("INPUT"!==tElement[0].tagName||!tElement.attr("type","checkbox"))throw'checklist-model should be applied to `input[type="checkbox"]`.';if(!tAttrs.checklistValue)throw"You should provide `checklist-value`.";return tElement.removeAttr("checklist-model"),tElement.attr("ng-model","checked"),postLinkFn}}}},function(module,exports,__webpack_require__){"use strict";var ngModuleName="components_errorReport";__webpack_require__(26),__webpack_require__(27),angular.module(ngModuleName,[]).service("components_errorReport_errorService",__webpack_require__(28)).directive("globalErrors",__webpack_require__(29)).directive("validatedLabel",__webpack_require__(30)),module.exports=ngModuleName},function(module,exports){var path="/public/shared/components/errorReport/html/globalErrorsDirective.html",html='<div class="form-type1-row field-global-errors ng-hide" ng-show=errorService.hasGlobalErrors() ng-messages for=errorService.globalErrors> <span class="fa fa-exclamation-circle field-global-error-icon"></span> <span ng-messages-include=v-error-messages></span> </div>';window.angular.module("ng").run(["$templateCache",function(c){c.put(path,html)}]),module.exports=path},function(module,exports){var path="/public/shared/components/errorReport/html/validatedLabelDirective.html",html='<label class=form-type1-title for={{for}}> <span ng-transclude></span> <span class=field-errors ng-messages for=errorService.formFieldErrors[for] ng-if="errorService.getForm()[for].$valid && errorService.getForm()[for].$pristine"> <span ng-messages-include=v-error-messages></span> </span> <span class=field-errors ng-if="(errorService.getForm()[for].$dirty || errorService.getForm().$submitted) && errorService.getForm()[for].$invalid" ng-messages for=errorService.getForm()[for].$error> <span ng-messages-include=v-error-messages></span> </span> <span class=field-valid ng-if="errorService.getForm()[for].$valid && errorService.getForm()[for].$dirty && (!errorService.formFieldErrors[for] || !errorService.getForm()[for].$pristine)"> <i class="fa fa-check"></i> </span> <span ng-show="errorService.getForm()[for].$pending && errorService.getForm()[for].$dirty"> <i class="fa fa-spin fa-circle-o-notch"></i> </span> </label>';window.angular.module("ng").run(["$templateCache",function(c){c.put(path,html)}]),module.exports=path},function(module,exports){"use strict";function ErrorServiceClass($timeout){function getForm(){return form}function handleErrors(promise){resetErrors(),promise["catch"](function(errorReport){errorReport.data.errors&&(errorReport=errorReport.data.errors,_.each(errorReport,function(error,index){error.fieldName?(formFieldErrors[error.fieldName]={},formFieldErrors[error.fieldName][error.errorCode]=!0,form[error.fieldName]&&form[error.fieldName].$setPristine()):globalErrors[error.errorCode]=!0}),scrollToNearestError())})}function hasErrors(){return hasGlobalErrors()||hasFormFieldErrors()}function hasFormFieldErrors(){return!_.isEmpty(formFieldErrors)}function hasGlobalErrors(){return!_.isEmpty(globalErrors)}function resetErrors(){var member;for(member in formFieldErrors)delete formFieldErrors[member];for(member in globalErrors)delete globalErrors[member]}function scrollToNearestError(){var nearestError;$timeout(function(){nearestError=$(".field-global-errors:visible"),0===nearestError.length&&(nearestError=$(".field-errors span:visible"),0===nearestError.length)||$("html, body").animate({scrollTop:nearestError.first().offset().top-100},500)},150)}function setForm(formObj){return form=formObj}var form,formFieldErrors={},globalErrors={};return{formFieldErrors:formFieldErrors,getForm:getForm,globalErrors:globalErrors,handleErrors:handleErrors,hasErrors:hasErrors,hasFormFieldErrors:hasFormFieldErrors,hasGlobalErrors:hasGlobalErrors,resetErrors:resetErrors,scrollToNearestError:scrollToNearestError,setForm:setForm}}module.exports=function($timeout){return function(){return new ErrorServiceClass($timeout)}}},function(module,exports){"use strict";module.exports=function($templateCache,$compile,$timeout){return{restrict:"EA",scope:{errorService:"=errorService"},templateUrl:window.corona.cdn+"/shared/components/errorReport/html/globalErrorsDirective.html"}}},function(module,exports){"use strict";module.exports=function($templateCache,$compile,$timeout){return{restrict:"EA",scope:{errorService:"=errorService","for":"@for"},transclude:!0,templateUrl:window.corona.cdn+"/shared/components/errorReport/html/validatedLabelDirective.html",link:function(scope,element){return scope.window=window}}}},function(module,exports){"use strict";function CustomSortObjectByKey(){return function(items,keyToSortBy){var sortDirection=1;"-"===keyToSortBy.substring(0,1)&&(sortDirection=-1,keyToSortBy=keyToSortBy.substring(1));var items=_.sortBy(_.reduce(items,function(result,n,key){return n.__key=key,result.push(n),result},[]),keyToSortBy);return-1===sortDirection&&items.reverse(),items}}function GroupBy(){return function(items,keyToGroupBy){return _.uniqBy(items,keyToGroupBy)}}var ngModuleName="components_filters";angular.module(ngModuleName,[]).filter("customSortObjectByKey",CustomSortObjectByKey).filter("groupBy",GroupBy),module.exports=ngModuleName},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";var ngModuleName="components_validators";angular.module(ngModuleName,[__webpack_require__(70)]).directive("customValidation",__webpack_require__(72)).directive("customEmail",__webpack_require__(73)).directive("dateOfBirth",__webpack_require__(74)).directive("fieldMatch",__webpack_require__(75)).directive("fieldNotMatch",__webpack_require__(76)).directive("uniqueEmail",__webpack_require__(77)).directive("postalCode",__webpack_require__(78)),module.exports=ngModuleName},function(module,exports,__webpack_require__){"use strict";var ngModuleName="components_locality";angular.module(ngModuleName,[__webpack_require__(5)]).factory("components_locality_localityService",__webpack_require__(71)),module.exports=ngModuleName},function(module,exports){"use strict";module.exports=function($resource,$q,components_api_apiService){function getLocality(postalCode,locale){var deferred=$q.defer();return localityResource.get({postalCode:postalCode,locale:locale}).then(function(data){deferred.resolve(data.result)})["catch"](function(err){deferred.reject(err)}),deferred.promise}var apiService=components_api_apiService,localityResource=apiService.create(window.corona.api.postalCodeByLocale);return{getLocality:getLocality}}},function(module,exports){"use strict";module.exports=function($timeout){return{restrict:"A",require:"ngModel",scope:{customValidation:"="},link:function(scope,elem,attrs,ngModel){scope.customValidation(scope,ngModel)}}}},function(module,exports){"use strict";module.exports=function($timeout){return{restrict:"A",require:"ngModel",scope:{regex:"@customEmail"},link:function(scope,elem,attrs,ngModel){if(ngModel&&ngModel.$validators.email){var EMAIL_REGEX=new RegExp(scope.regex);ngModel.$validators.email=function(modelValue){return ngModel.$isEmpty(modelValue)||EMAIL_REGEX.test(modelValue)}}}}}},function(module,exports){"use strict";module.exports=function($templateCache,$timeout,$compile){var dateObject={};return{restrict:"A",require:"ngModel",scope:{form:"=dateOfBirthForm",fieldName:"@dateOfBirthFieldName"},link:function(scope,element,attrs,ngModel){dateObject[scope.fieldName]={form:scope.form,fieldName:scope.fieldName,scope:scope,element:element,attrs:attrs,ngModel:ngModel},ngModel.$validators.birthDate=function(){var validField=!1;return dateObject.year&&dateObject.month&&dateObject.day?dateObject.year.ngModel.$viewValue&&dateObject.month.ngModel.$viewValue&&dateObject.day.ngModel.$viewValue&&(validField=!0):validField=!1,$timeout(function(){scope.form.birthDate=_.extend(scope.form[scope.fieldName]),scope.form.birthDate.$name="birthDate",scope.form.birthDate.$dirty=validField}),validField},scope.form.birthDate=_.extend(scope.form[scope.fieldName]),scope.form.birthDate.$name="birthDate"}}}},function(module,exports){"use strict";module.exports=function($timeout){return{restrict:"A",require:"ngModel",scope:{sourceVal:"=fieldMatch",messageName:"@fieldMessageName"},link:function(scope,elem,attrs,ngModel){ngModel.$validators[scope.messageName]=function(modelValue){return modelValue===scope.sourceVal},scope.$watch("sourceVal",function(newVal,oldVal){ngModel.$viewValue!==scope.sourceVal?ngModel.$setValidity(scope.messageName,!1):ngModel.$validate()})}}}},function(module,exports){"use strict";module.exports=function($timeout){return{restrict:"A",require:"ngModel",scope:{sourceVal:"=fieldNotMatch",messageName:"@fieldMessageName"},link:function(scope,elem,attrs,ngModel){ngModel.$validators[scope.messageName]=function(modelValue){return modelValue!==scope.sourceVal},scope.$watch("sourceVal",function(newVal,oldVal){ngModel.$viewValue===scope.sourceVal?ngModel.$setValidity(scope.messageName,!1):ngModel.$validate()})}}}},function(module,exports){"use strict";module.exports=function($q,$http,$timeout){return{require:"ngModel",restrict:"A",link:function($scope,elem,attrs,ngModel){ngModel.$asyncValidators.uniqueEmail=function(modelValue,viewValue){var deferred=$q.defer();return $http({method:"GET",url:window.corona.cdn+"/shared/mocks/emailList.json",data:{value:modelValue}}).success(function(data){$timeout(function(){return _.includes(data.response,modelValue)?deferred.reject():void deferred.resolve()})}).error(function(err){deferred.reject(err)}),deferred.promise}}}}},function(module,exports){"use strict";module.exports=function($q,$http,$timeout,components_locality_localityService){return{require:"ngModel",restrict:"A",scope:{postalCode:"="},link:function($scope,elem,attrs,ngModel){function loadLocality(value){
return dataService.getLocality(value,locale)}var dataService=components_locality_localityService,locale=window.corona.locale;ngModel.$asyncValidators.existingPostalCode=function(modelValue,viewValue){var deferred=$q.defer();return loadLocality(viewValue).then(function(){deferred.resolve()})["catch"](function(){deferred.reject()}),deferred.promise}}}}},,,,,,,,,,function(module,exports,__webpack_require__){"use strict";var ngModuleName="components_languageSelector";__webpack_require__(89),angular.module(ngModuleName,[__webpack_require__(7)]).directive("languageSelector",__webpack_require__(90)),module.exports=ngModuleName},function(module,exports){var path="/public/shared/components/languageSelector/html/languageSelector.html",html='<div class=components_languageSelector ng-show="availableLocales.length > 1"> <div class=drop{{dir}} uib-dropdown is-open=status.isopen> <button ng-if="$root.window.corona.blueprint === \'airmiles\' || $root.window.corona.blueprint === \'vop3\' || $root.window.corona.blueprint === \'vop2\'" class="btn btn-default drop{{dir}}-toggle" type=button data-toggle=dropdown aria-haspopup=true aria-expanded=true> <i class="fa fa-globe"></i>&nbsp;&nbsp;{{getSelectedLocale()}} <span class=caret></span> </button> <button ng-if="!($root.window.corona.blueprint === \'airmiles\' || $root.window.corona.blueprint === \'vop3\' || $root.window.corona.blueprint === \'vop2\')" class="btn btn-default drop{{dir}}-toggle" uib-dropdown-toggle type=button aria-haspopup=true aria-expanded=true> <i class="fa fa-globe"></i>&nbsp;&nbsp;{{getSelectedLocale()}} <span class=caret></span> </button> <ul class=dropdown-menu aria-labelledby=dropdownMenu1> <li ng-repeat="locale in availableLocales"> <a ng-click=changeLocale(locale.locale) href=javascript:;>{{locale.translation}}</a> </li> </ul> </div> </div>';window.angular.module("ng").run(["$templateCache",function(c){c.put(path,html)}]),module.exports=path},function(module,exports,__webpack_require__){"use strict";var isoLocales=__webpack_require__(91),isoTwoLetterLocales=__webpack_require__(92);module.exports=function($compile,$filter,$sce,$templateCache,$timeout,components_helpers){function link(scope,element,attributes,controller,transcludeFn){function _init(){scope.twoLetterCountry=scope.twoLetterCountry?scope.twoLetterCountry:!1,scope.dir=scope.dir?scope.dir:"up",scope.availableLocales=getAvailableLocales()}function getAvailableLocales(){var locales=[];return _.each(window.corona.locales,function(site,locale){locales.push({translation:mapToIsoLocale(locale),locale:locale})}),locales}function getSelectedLocale(){return mapToIsoLocale(window.corona.locale)}function mapToIsoLocale(locale){return locale?"true"==scope.twoLetterCountry?isoTwoLetterLocales[locale.substring(0,locale.indexOf("_"))]:isoLocales[locale.substring(0,locale.indexOf("_"))]:""}function changeLocale(locale){var site=window.corona.locales[locale];location.hostname.indexOf(site)<0?window.location=location.protocol+"//"+site:(components_helpers.createCookie("corona_locale",locale),window.location.reload())}_.extend(scope,{availableLocales:[],getSelectedLocale:getSelectedLocale,mapToIsoLocale:mapToIsoLocale,changeLocale:changeLocale}),_init()}return{restrict:"EA",scope:{localeSelected:"=localeSelected",dir:"@dir",twoLetterCountry:"@twolettercountry"},replace:!0,templateUrl:window.corona.cdn+"/shared/components/languageSelector/html/languageSelector.html",link:link}}},function(module,exports){"use strict";module.exports={af:"Afrikaans",ak:"Akan",am:"Amharic",ar:"العربية",as:"Assamese",asa:"Asu",az:"Azərbaycan",bm:"Bambara",eu:"Euskal",be:"беларускі",bem:"Bemba",bez:"Bena",bg:"български",bn:"বাঙালি",bs:"Bosanski",ca:"Català",cgg:"Chiga",chr:"Cherokee",cs:"čeština",da:"Danske",de:"Deutsch",ebu:"Embu",ee:"Ewe",el:"Ελληνική",en:"English",eo:"Esperanto",es:"Español",et:"Eesti",ff:"Fulah",fi:"Suomi",fil:"Pilipino",fo:"Faroese",fr:"Français",he:"עברית",hr:"Hrvatska",hy:"հայերեն",gl:"Galego",gu:"ગુજરાતી",guz:"Gusii",ha:"Hausa",haw:"Hawaiian",hi:"हिंदी",ka:"ქართული",kq:"Cornish",lg:"Ganda",my:"မြန်မာ",nl:"Nederlands",so:"Soomaali",sq:"Shqiptar",sr:"Srpski",tzm:"Central Morocco Tamazight",zh:"中文",zh_Hans:"中国",zh_Hant:"中國",hu:"Magyar",is:"íslenska",ig:"Igbo",id:"Bahasa",ga:"Gaeilge",it:"Italiano",ja:"日本語",kea:"Kabuverdianu",kab:"Kabyle",kl:"Kalaallisut",kln:"Kalenjin",kam:"Kamba",kn:"ಕನ್ನಡ",kk:"Қазақ",km:"ខ្មែរ",ki:"Kikuyu",rw:"Kinyarwanda",kok:"Konkani",ko:"한국어",khq:"Koyra Chiini",ses:"Koyraboro Senni",lag:"Langi",lv:"Latvijā",lt:"Lietuvos",luo:"Luo",luy:"Luyia",mk:"македонски",jmc:"Machame",kde:"Makonde",mg:"Malagasy",ms:"Melayu",ml:"മലയാളം",mt:"Malti",gv:"Manx",mr:"मराठी",mas:"Masai",mer:"Meru",mfe:"Morisyen",naq:"Nama",ne:"नेपाली",nd:"North Ndebele",nb:"Norsk Bokmål",nn:"Norsk Bokmål",nyn:"Nyankole",or:"Oriya",om:"Oromo",ps:"Pashto",fa:"فارسی",pl:"Polskie",pt:"Português",pa:"ਪੰਜਾਬੀ ਦੇ",ro:"Română",rm:"Romansh",rof:"Rombo",ru:"Русский",rwk:"Rwa",saq:"Samburu",sg:"Sango",seh:"Sena",sn:"Shona",ii:"Sichuan Yi",si:"සිංහල",sk:"Slovenský",sl:"Slovenščina",xog:"Soga",sw:"Kiswahili",sv:"Svenska",gsw:"Swiss German",shi:"Tachelhit",dav:"Taita",ta:"தமிழ்",te:"తెలుగు",teo:"Teso",th:"ภาษาไทย",bo:"Tibetan",ti:"Tigrinya",to:"Tonga",tr:"Türk",uk:"Український",ur:"اردو",uz:"O'zbekiston",vi:"Tiếng Việt",vun:"Vunjo",cy:"Cymraeg",yo:"Yorùbá",zu:"Zulu"}},function(module,exports){"use strict";module.exports={af:"Afrikaans",ak:"Akan",am:"Amharic",ar:"العربية",as:"Assamese",asa:"Asu",az:"Azərbaycan",bm:"Bambara",eu:"Euskal",be:"беларускі",bem:"Bemba",bez:"Bena",bg:"български",bn:"বাঙালি",bs:"Bosanski",ca:"Català",cgg:"Chiga",chr:"Cherokee",cs:"čeština",da:"Danske",de:"Deutsch",ebu:"Embu",ee:"Ewe",el:"Ελληνική",en:"EN",eo:"Esperanto",es:"ES",et:"Eesti",ff:"Fulah",fi:"Suomi",fil:"Pilipino",fo:"Faroese",fr:"FR",he:"עברית",hr:"Hrvatska",hy:"հայերեն",gl:"Galego",gu:"ગુજરાતી",guz:"Gusii",ha:"Hausa",haw:"Hawaiian",hi:"हिंदी",ka:"ქართული",kq:"Cornish",lg:"Ganda",my:"မြန်မာ",nl:"Nederlands",so:"Soomaali",sq:"Shqiptar",sr:"Srpski",tzm:"Central Morocco Tamazight",zh:"中文",zh_Hans:"中国",zh_Hant:"中國",hu:"Magyar",is:"íslenska",ig:"Igbo",id:"Bahasa",ga:"Gaeilge",it:"Italiano",ja:"日本語",kea:"Kabuverdianu",kab:"Kabyle",kl:"Kalaallisut",kln:"Kalenjin",kam:"Kamba",kn:"ಕನ್ನಡ",kk:"Қазақ",km:"ខ្មែរ",ki:"Kikuyu",rw:"Kinyarwanda",kok:"Konkani",ko:"한국어",khq:"Koyra Chiini",ses:"Koyraboro Senni",lag:"Langi",lv:"Latvijā",lt:"Lietuvos",luo:"Luo",luy:"Luyia",mk:"македонски",jmc:"Machame",kde:"Makonde",mg:"Malagasy",ms:"Melayu",ml:"മലയാളം",mt:"Malti",gv:"Manx",mr:"मराठी",mas:"Masai",mer:"Meru",mfe:"Morisyen",naq:"Nama",ne:"नेपाली",nd:"North Ndebele",nb:"Norsk Bokmål",nn:"Norsk Bokmål",nyn:"Nyankole",or:"Oriya",om:"Oromo",ps:"Pashto",fa:"فارسی",pl:"Polskie",pt:"Português",pa:"ਪੰਜਾਬੀ ਦੇ",ro:"Română",rm:"Romansh",rof:"Rombo",ru:"Русский",rwk:"Rwa",saq:"Samburu",sg:"Sango",seh:"Sena",sn:"Shona",ii:"Sichuan Yi",si:"සිංහල",sk:"Slovenský",sl:"Slovenščina",xog:"Soga",sw:"Kiswahili",sv:"Svenska",gsw:"Swiss German",shi:"Tachelhit",dav:"Taita",ta:"தமிழ்",te:"తెలుగు",teo:"Teso",th:"ภาษาไทย",bo:"Tibetan",ti:"Tigrinya",to:"Tonga",tr:"Türk",uk:"Український",ur:"اردو",uz:"O'zbekiston",vi:"Tiếng Việt",vun:"Vunjo",cy:"Cymraeg",yo:"Yorùbá",zu:"Zulu"}},function(module,exports,__webpack_require__){"use strict";var ngModuleName="components_loader";__webpack_require__(94),angular.module(ngModuleName,["cgBusy"]).value("cgBusyDefaults",{message:window.corona.getGlobalTranslation("components_loader_defaultMessage"),backdrop:!0,templateUrl:window.corona.cdn+"/shared/components/loader/html/loader.html",delay:0,minDuration:100}),module.exports=ngModuleName},function(module,exports){var path="/public/shared/components/loader/html/loader.html",html="<div class=cg-busy-default-wrapper> <div class=cg-busy-default-sign> <div class=cg-busy-default-spinner> <div class=bar1></div> <div class=bar2></div> <div class=bar3></div> <div class=bar4></div> <div class=bar5></div> <div class=bar6></div> <div class=bar7></div> <div class=bar8></div> <div class=bar9></div> <div class=bar10></div> <div class=bar11></div> <div class=bar12></div> </div> <div class=cg-busy-default-text>{{$message}}</div> </div> </div>";window.angular.module("ng").run(["$templateCache",function(c){c.put(path,html)}]),module.exports=path},function(module,exports){"use strict";var ngModuleName="components_htmlRecompile";angular.module(ngModuleName,[]).directive("ngBindHtmlRecompile",function($compile){return{restrict:"A",replace:!0,link:function(scope,el,attrs){scope.$watch(attrs.ngBindHtmlRecompile,function(html){el.html(html),$compile(el.contents())(scope)})}}}),module.exports=ngModuleName},,,,,,,function(module,exports,__webpack_require__){"use strict";var ngModuleName="components_common_default";angular.module(ngModuleName,[__webpack_require__(20),__webpack_require__(103),__webpack_require__(5),__webpack_require__(23),__webpack_require__(25),__webpack_require__(31),__webpack_require__(88),__webpack_require__(11),__webpack_require__(93),__webpack_require__(10),__webpack_require__(69),__webpack_require__(95),"ui.bootstrap","ng","ngResource","ngMessages"]).controller("components_common_default_bottomPromosController",__webpack_require__(106)).controller("components_common_default_cookieNoticeController",__webpack_require__(107)).controller("components_common_default_localeController",__webpack_require__(108)).controller("components_common_default_loginController",__webpack_require__(109)).config(function($sceDelegateProvider){$sceDelegateProvider.resourceUrlWhitelist(["**"])}).run(function($anchorScroll,$rootScope,components_helpers,components_api_apiService){components_helpers.removeInvalidCookies(),_.extend($rootScope,{corona:window.corona,formatPoints:window.formatPoints,window:window})}),module.exports=ngModuleName},function(module,exports,__webpack_require__){"use strict";var ngModuleName="components_socialLogins";angular.module(ngModuleName,[]).factory("components_socialLogins_facebook",__webpack_require__(104)).component("socialLogins",__webpack_require__(105)),module.exports=ngModuleName},function(module,exports){"use strict";module.exports=function($q,$timeout){function init(config){return Facebook.config=config,loadFacebookSDK(),Facebook.facebookReadyPromise}function facebookLoaded(){FB.init({appId:Facebook.config.appId,xfbml:!0,version:"v2.7"}),Facebook.initalized=!0,facebookReady.resolve()}function loadFacebookSDK(){isLoading||(!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];d.getElementById(id)||(js=d.createElement(s),js.id=id,js.src="//connect.facebook.net/en_US/sdk.js",fjs.parentNode.insertBefore(js,fjs))}(document,"script","facebook-jssdk"),isLoading=!0)}function login(){Facebook.facebookReadyPromise.then(function(){FB.login(function(response){var form=$('\n          <form action="/signupWithSocial" method="post">\n            <input type="text" name="socialMediaType" value="facebook" />\n            <input type="text" name="accessToken" value="'+response.authResponse.accessToken+'" />\n            <input type="text" name="expiresIn" value="'+response.authResponse.expiresIn+'" />\n            <input type="text" name="signedRequest" value="'+response.authResponse.signedRequest+'" />\n            <input type="text" name="userID" value="'+response.authResponse.userID+'" />\n            <input type="text" name="panelId" value="'+window.corona.panelId+'" />\n          </form>\n        ');$("body").append(form),form.submit()},{scope:"email"})})}var Facebook=this,isLoading=!1,facebookReady=$q.defer();return _.extend(Facebook,{config:{},initialized:!1,facebookReadyPromise:facebookReady.promise,init:init,login:login}),window.fbAsyncInit=facebookLoaded,Facebook}},function(module,exports){"use strict";function SocialLoginController(components_socialLogins_facebook){function getSocialLogins(){if(window.corona.socialLogins){var facebookConfig=_.find(window.corona.socialLogins,{mediaType:"facebook"});facebookConfig&&(components_socialLogins_facebook.init(facebookConfig.config),vm.availableLogins.push("facebook"))}}function loginFacebook(event){return event.preventDefault(),components_socialLogins_facebook.login()}var vm=this;_.extend(vm,{availableLogins:[],loginFacebook:loginFacebook}),getSocialLogins()}module.exports={template:'\n    <button\n      ng-if="vm.availableLogins.indexOf(\'facebook\') > -1"\n      ng-click="vm.loginFacebook($event)"\n      class="button facebook-social-button"\n    >\n      <span class="fa fa-facebook"></span>\n      <span>&nbsp;&nbsp;{{vm.prefix}} Facebook</span>\n    </button>\n  ',controller:SocialLoginController,controllerAs:"vm",bindings:{prefix:"@prefix"}}},function(module,exports){"use strict";module.exports=function($location,$scope,components_api_apiService){function _init(){vm.rewardsService.get({panelId:window.corona.panelId,locale:window.corona.locale})}var vm=this,apiService=components_api_apiService,rewardsService=apiService.create(window.corona.api.rewardsByPanelId);_.extend(vm,{rewardsService:rewardsService}),_init()}},function(module,exports){"use strict";module.exports=function(components_helpers,components_modal_modalService){function _init(){checkUserHasCookieNotification()}function checkUserHasCookieNotification(){helpers.getCookie("showCookieNotice")||(helpers.createCookie("showCookieNotice","true"),vm.showNotice=!0)}function close(){vm.showNotice=!1}function readMore(){vm.close(),modalService.create({title:$(".cookieNotice .title").html(),type:"notify",message:$(".cookieNotice .fullMessage").html(),buttons:'<button type="button" class="btn gray" ng-click="close()">'+window.corona.getGlobalTranslation("forms_help_close")+"</button>"})}var vm=this,helpers=components_helpers,modalService=components_modal_modalService;_.extend(vm,{close:close,showNotice:!1,readMore:readMore}),_init()}},function(module,exports){"use strict";module.exports=function($location,$scope,components_api_apiService){_.extend($scope,{locales:corona.locales})}},function(module,exports){"use strict";module.exports=function($location,$scope,$timeout,components_errorReport_errorService,components_api_apiService,components_helpers){function _init(){"/unsuccessful"===$location.$$path&&(vm.errorService.globalErrors.error_invalidCredentials=!0),$timeout(function(){vm.errorService.setForm($scope.loginForm)})}function login(){var loginPromise=apiService.login({username:vm.username,password:vm.password,panelId:corona.panelId,keepLogin:vm.keepLogin});loginPromise.then(function(){apiService.redirectToDashboard()},function(err){if(err.data.response){var greetString=err.data.response.firstName+","+err.data.response.emailAddress;helpers.createCookie("corona_greeting",greetString),apiService.redirectToMandatoryReset()}else-1===window.location.href.indexOf("login")&&-1===window.location.href.indexOf("enrollmentConfirmation")&&(window.location=apiService.getBaseURL()+"/login#unsuccessful")}),vm.errorService.handleErrors(loginPromise),vm.loginPostPromise=loginPromise}var vm=this,apiService=components_api_apiService,helpers=components_helpers;_.extend(vm,{errorService:components_errorReport_errorService(),username:"",password:"",keepLogin:!1,login:login}),_init()}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";function removeAuthSessionRun(components_session_sessionService,components_api_apiService,components_helpers){var sessionService=components_session_sessionService;return"redirect"===components_helpers.getUrlVars().cmd&&components_helpers.getCookie("corona_session")?components_api_apiService.redirectToDashboard():(delete window.localStorage.cart,void sessionService.checkAndRemoveSession())}var ngModuleName="components_removeAuthSession";angular.module("components_removeAuthSession",[__webpack_require__(5),__webpack_require__(10)]).run(removeAuthSessionRun),module.exports=ngModuleName},,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";function HomeController($q,$sce,$timeout,components_api_apiService,components_errorReport_errorService,components_helpers){function _init(){var rewardsServicePromise=vm.rewardsService.get({panelId:window.corona.panelId,locale:window.corona.locale}).then(function(data){vm.rewards=_.uniqBy(vm.rewardsService.model,function(item){return item.reward.rewardName}),updateSlider()});vm.rewardsServiceLoading=rewardsServicePromise}function updateSlider(){rewardImageStart+=rewardImageLimit,rewardImageStart>vm.rewards.length&&(rewardImageStart=0),vm.rewardsToDisplay=vm.rewards.slice(rewardImageStart,rewardImageStart+rewardImageLimit),vm.rewards.length>6&&$timeout(updateSlider,8e3)}var vm=this,apiService=components_api_apiService,rewardImageLimit=6,rewardImageStart=-rewardImageLimit,rewardsService=apiService.create(window.corona.api.rewardsByPanelId);rewardsService.contract=window.corona.cdn+"/shared/mocks/rewardsList.json",rewardsService.model=[],_.extend(vm,{rewardsService:rewardsService,rewardsToDisplay:[],rewards:[]}),_init()}angular.module("app-home",[__webpack_require__(102),__webpack_require__(158),__webpack_require__(175)]).controller("homeController",HomeController)},function(module,exports,__webpack_require__){__webpack_require__(176),module.exports="ngAnimate"},function(module,exports){/**
	 * @license AngularJS v1.5.6
	 * (c) 2010-2016 Google, Inc. http://angularjs.org
	 * License: MIT
	 */
!function(window,angular){"use strict";function assertArg(arg,name,reason){if(!arg)throw ngMinErr("areq","Argument '{0}' is {1}",name||"?",reason||"required");return arg}function mergeClasses(a,b){return a||b?a?b?(isArray(a)&&(a=a.join(" ")),isArray(b)&&(b=b.join(" ")),a+" "+b):a:b:""}function packageStyles(options){var styles={};return options&&(options.to||options.from)&&(styles.to=options.to,styles.from=options.from),styles}function pendClasses(classes,fix,isPrefix){var className="";return classes=isArray(classes)?classes:classes&&isString(classes)&&classes.length?classes.split(/\s+/):[],forEach(classes,function(klass,i){klass&&klass.length>0&&(className+=i>0?" ":"",className+=isPrefix?fix+klass:klass+fix)}),className}function removeFromArray(arr,val){var index=arr.indexOf(val);val>=0&&arr.splice(index,1)}function stripCommentsFromElement(element){if(element instanceof jqLite)switch(element.length){case 0:return element;case 1:if(element[0].nodeType===ELEMENT_NODE)return element;break;default:return jqLite(extractElementNode(element))}return element.nodeType===ELEMENT_NODE?jqLite(element):void 0}function extractElementNode(element){if(!element[0])return element;for(var i=0;i<element.length;i++){var elm=element[i];if(elm.nodeType==ELEMENT_NODE)return elm}}function $$addClass($$jqLite,element,className){forEach(element,function(elm){$$jqLite.addClass(elm,className)})}function $$removeClass($$jqLite,element,className){forEach(element,function(elm){$$jqLite.removeClass(elm,className)})}function applyAnimationClassesFactory($$jqLite){return function(element,options){options.addClass&&($$addClass($$jqLite,element,options.addClass),options.addClass=null),options.removeClass&&($$removeClass($$jqLite,element,options.removeClass),options.removeClass=null)}}function prepareAnimationOptions(options){if(options=options||{},!options.$$prepared){var domOperation=options.domOperation||noop;options.domOperation=function(){options.$$domOperationFired=!0,domOperation(),domOperation=noop},options.$$prepared=!0}return options}function applyAnimationStyles(element,options){applyAnimationFromStyles(element,options),applyAnimationToStyles(element,options)}function applyAnimationFromStyles(element,options){options.from&&(element.css(options.from),options.from=null)}function applyAnimationToStyles(element,options){options.to&&(element.css(options.to),options.to=null)}function mergeAnimationDetails(element,oldAnimation,newAnimation){var target=oldAnimation.options||{},newOptions=newAnimation.options||{},toAdd=(target.addClass||"")+" "+(newOptions.addClass||""),toRemove=(target.removeClass||"")+" "+(newOptions.removeClass||""),classes=resolveElementClasses(element.attr("class"),toAdd,toRemove);newOptions.preparationClasses&&(target.preparationClasses=concatWithSpace(newOptions.preparationClasses,target.preparationClasses),delete newOptions.preparationClasses);var realDomOperation=target.domOperation!==noop?target.domOperation:null;return extend(target,newOptions),realDomOperation&&(target.domOperation=realDomOperation),classes.addClass?target.addClass=classes.addClass:target.addClass=null,classes.removeClass?target.removeClass=classes.removeClass:target.removeClass=null,oldAnimation.addClass=target.addClass,oldAnimation.removeClass=target.removeClass,target}function resolveElementClasses(existing,toAdd,toRemove){function splitClassesToLookup(classes){isString(classes)&&(classes=classes.split(" "));var obj={};return forEach(classes,function(klass){klass.length&&(obj[klass]=!0)}),obj}var ADD_CLASS=1,REMOVE_CLASS=-1,flags={};existing=splitClassesToLookup(existing),toAdd=splitClassesToLookup(toAdd),forEach(toAdd,function(value,key){flags[key]=ADD_CLASS}),toRemove=splitClassesToLookup(toRemove),forEach(toRemove,function(value,key){flags[key]=flags[key]===ADD_CLASS?null:REMOVE_CLASS});var classes={addClass:"",removeClass:""};return forEach(flags,function(val,klass){var prop,allow;val===ADD_CLASS?(prop="addClass",allow=!existing[klass]):val===REMOVE_CLASS&&(prop="removeClass",allow=existing[klass]),allow&&(classes[prop].length&&(classes[prop]+=" "),classes[prop]+=klass)}),classes}function getDomNode(element){return element instanceof angular.element?element[0]:element}function applyGeneratedPreparationClasses(element,event,options){var classes="";event&&(classes=pendClasses(event,EVENT_CLASS_PREFIX,!0)),options.addClass&&(classes=concatWithSpace(classes,pendClasses(options.addClass,ADD_CLASS_SUFFIX))),options.removeClass&&(classes=concatWithSpace(classes,pendClasses(options.removeClass,REMOVE_CLASS_SUFFIX))),classes.length&&(options.preparationClasses=classes,element.addClass(classes))}function clearGeneratedClasses(element,options){options.preparationClasses&&(element.removeClass(options.preparationClasses),options.preparationClasses=null),options.activeClasses&&(element.removeClass(options.activeClasses),options.activeClasses=null)}function blockTransitions(node,duration){var value=duration?"-"+duration+"s":"";return applyInlineStyle(node,[TRANSITION_DELAY_PROP,value]),[TRANSITION_DELAY_PROP,value]}function blockKeyframeAnimations(node,applyBlock){var value=applyBlock?"paused":"",key=ANIMATION_PROP+ANIMATION_PLAYSTATE_KEY;return applyInlineStyle(node,[key,value]),[key,value]}function applyInlineStyle(node,styleTuple){var prop=styleTuple[0],value=styleTuple[1];node.style[prop]=value}function concatWithSpace(a,b){return a?b?a+" "+b:a:b}function getCssKeyframeDurationStyle(duration){return[ANIMATION_DURATION_PROP,duration+"s"]}function getCssDelayStyle(delay,isKeyframeAnimation){var prop=isKeyframeAnimation?ANIMATION_DELAY_PROP:TRANSITION_DELAY_PROP;return[prop,delay+"s"]}function computeCssStyles($window,element,properties){var styles=Object.create(null),detectedStyles=$window.getComputedStyle(element)||{};return forEach(properties,function(formalStyleName,actualStyleName){var val=detectedStyles[formalStyleName];if(val){var c=val.charAt(0);("-"===c||"+"===c||c>=0)&&(val=parseMaxTime(val)),0===val&&(val=null),styles[actualStyleName]=val}}),styles}function parseMaxTime(str){var maxValue=0,values=str.split(/\s*,\s*/);return forEach(values,function(value){"s"==value.charAt(value.length-1)&&(value=value.substring(0,value.length-1)),value=parseFloat(value)||0,maxValue=maxValue?Math.max(value,maxValue):value}),maxValue}function truthyTimingValue(val){return 0===val||null!=val}function getCssTransitionDurationStyle(duration,applyOnlyDuration){var style=TRANSITION_PROP,value=duration+"s";return applyOnlyDuration?style+=DURATION_KEY:value+=" linear all",[style,value]}function createLocalCacheLookup(){var cache=Object.create(null);return{flush:function(){cache=Object.create(null)},count:function(key){var entry=cache[key];return entry?entry.total:0},get:function(key){var entry=cache[key];return entry&&entry.value},put:function(key,value){cache[key]?cache[key].total++:cache[key]={total:1,value:value}}}}function registerRestorableStyles(backup,node,properties){forEach(properties,function(prop){backup[prop]=isDefined(backup[prop])?backup[prop]:node.style.getPropertyValue(prop)})}var TRANSITION_PROP,TRANSITIONEND_EVENT,ANIMATION_PROP,ANIMATIONEND_EVENT,noop=angular.noop,copy=angular.copy,extend=angular.extend,jqLite=angular.element,forEach=angular.forEach,isArray=angular.isArray,isString=angular.isString,isObject=angular.isObject,isUndefined=angular.isUndefined,isDefined=angular.isDefined,isFunction=angular.isFunction,isElement=angular.isElement,ELEMENT_NODE=1,ADD_CLASS_SUFFIX="-add",REMOVE_CLASS_SUFFIX="-remove",EVENT_CLASS_PREFIX="ng-",ACTIVE_CLASS_SUFFIX="-active",PREPARE_CLASS_SUFFIX="-prepare",NG_ANIMATE_CLASSNAME="ng-animate",NG_ANIMATE_CHILDREN_DATA="$$ngAnimateChildren",CSS_PREFIX="";isUndefined(window.ontransitionend)&&isDefined(window.onwebkittransitionend)?(CSS_PREFIX="-webkit-",TRANSITION_PROP="WebkitTransition",TRANSITIONEND_EVENT="webkitTransitionEnd transitionend"):(TRANSITION_PROP="transition",TRANSITIONEND_EVENT="transitionend"),isUndefined(window.onanimationend)&&isDefined(window.onwebkitanimationend)?(CSS_PREFIX="-webkit-",ANIMATION_PROP="WebkitAnimation",ANIMATIONEND_EVENT="webkitAnimationEnd animationend"):(ANIMATION_PROP="animation",ANIMATIONEND_EVENT="animationend");var DURATION_KEY="Duration",PROPERTY_KEY="Property",DELAY_KEY="Delay",TIMING_KEY="TimingFunction",ANIMATION_ITERATION_COUNT_KEY="IterationCount",ANIMATION_PLAYSTATE_KEY="PlayState",SAFE_FAST_FORWARD_DURATION_VALUE=9999,ANIMATION_DELAY_PROP=ANIMATION_PROP+DELAY_KEY,ANIMATION_DURATION_PROP=ANIMATION_PROP+DURATION_KEY,TRANSITION_DELAY_PROP=TRANSITION_PROP+DELAY_KEY,TRANSITION_DURATION_PROP=TRANSITION_PROP+DURATION_KEY,ngMinErr=angular.$$minErr("ng"),$$rAFSchedulerFactory=["$$rAF",function($$rAF){function scheduler(tasks){queue=queue.concat(tasks),nextTick()}function nextTick(){if(queue.length){for(var items=queue.shift(),i=0;i<items.length;i++)items[i]();cancelFn||$$rAF(function(){cancelFn||nextTick()})}}var queue,cancelFn;return queue=scheduler.queue=[],scheduler.waitUntilQuiet=function(fn){cancelFn&&cancelFn(),cancelFn=$$rAF(function(){cancelFn=null,fn(),nextTick()})},scheduler}],$$AnimateChildrenDirective=["$interpolate",function($interpolate){return{link:function(scope,element,attrs){function setData(value){value="on"===value||"true"===value,element.data(NG_ANIMATE_CHILDREN_DATA,value)}var val=attrs.ngAnimateChildren;angular.isString(val)&&0===val.length?element.data(NG_ANIMATE_CHILDREN_DATA,!0):(setData($interpolate(val)(scope)),attrs.$observe("ngAnimateChildren",setData))}}}],ANIMATE_TIMER_KEY="$$animateCss",ONE_SECOND=1e3,ELAPSED_TIME_MAX_DECIMAL_PLACES=3,CLOSING_TIME_BUFFER=1.5,DETECT_CSS_PROPERTIES={transitionDuration:TRANSITION_DURATION_PROP,transitionDelay:TRANSITION_DELAY_PROP,transitionProperty:TRANSITION_PROP+PROPERTY_KEY,animationDuration:ANIMATION_DURATION_PROP,animationDelay:ANIMATION_DELAY_PROP,animationIterationCount:ANIMATION_PROP+ANIMATION_ITERATION_COUNT_KEY},DETECT_STAGGER_CSS_PROPERTIES={transitionDuration:TRANSITION_DURATION_PROP,transitionDelay:TRANSITION_DELAY_PROP,animationDuration:ANIMATION_DURATION_PROP,animationDelay:ANIMATION_DELAY_PROP},$AnimateCssProvider=["$animateProvider",function($animateProvider){var gcsLookup=createLocalCacheLookup(),gcsStaggerLookup=createLocalCacheLookup();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function($window,$$jqLite,$$AnimateRunner,$timeout,$$forceReflow,$sniffer,$$rAFScheduler,$$animateQueue){function gcsHashFn(node,extraClasses){var KEY="$$ngAnimateParentKey",parentNode=node.parentNode,parentID=parentNode[KEY]||(parentNode[KEY]=++parentCounter);return parentID+"-"+node.getAttribute("class")+"-"+extraClasses}function computeCachedCssStyles(node,className,cacheKey,properties){var timings=gcsLookup.get(cacheKey);return timings||(timings=computeCssStyles($window,node,properties),"infinite"===timings.animationIterationCount&&(timings.animationIterationCount=1)),gcsLookup.put(cacheKey,timings),timings}function computeCachedCssStaggerStyles(node,className,cacheKey,properties){var stagger;if(gcsLookup.count(cacheKey)>0&&(stagger=gcsStaggerLookup.get(cacheKey),!stagger)){var staggerClassName=pendClasses(className,"-stagger");$$jqLite.addClass(node,staggerClassName),stagger=computeCssStyles($window,node,properties),stagger.animationDuration=Math.max(stagger.animationDuration,0),stagger.transitionDuration=Math.max(stagger.transitionDuration,0),$$jqLite.removeClass(node,staggerClassName),gcsStaggerLookup.put(cacheKey,stagger)}return stagger||{}}function waitUntilQuiet(callback){rafWaitQueue.push(callback),$$rAFScheduler.waitUntilQuiet(function(){gcsLookup.flush(),gcsStaggerLookup.flush();for(var pageWidth=$$forceReflow(),i=0;i<rafWaitQueue.length;i++)rafWaitQueue[i](pageWidth);rafWaitQueue.length=0})}function computeTimings(node,className,cacheKey){var timings=computeCachedCssStyles(node,className,cacheKey,DETECT_CSS_PROPERTIES),aD=timings.animationDelay,tD=timings.transitionDelay;return timings.maxDelay=aD&&tD?Math.max(aD,tD):aD||tD,timings.maxDuration=Math.max(timings.animationDuration*timings.animationIterationCount,timings.transitionDuration),timings}var applyAnimationClasses=applyAnimationClassesFactory($$jqLite),parentCounter=0,rafWaitQueue=[];return function(element,initialOptions){function endFn(){close()}function cancelFn(){close(!0)}function close(rejected){if(!(animationClosed||animationCompleted&&animationPaused)){animationClosed=!0,animationPaused=!1,options.$$skipPreparationClasses||$$jqLite.removeClass(element,preparationClasses),$$jqLite.removeClass(element,activeClasses),blockKeyframeAnimations(node,!1),blockTransitions(node,!1),forEach(temporaryStyles,function(entry){node.style[entry[0]]=""}),applyAnimationClasses(element,options),applyAnimationStyles(element,options),Object.keys(restoreStyles).length&&forEach(restoreStyles,function(value,prop){value?node.style.setProperty(prop,value):node.style.removeProperty(prop)}),options.onDone&&options.onDone(),events&&events.length&&element.off(events.join(" "),onAnimationProgress);var animationTimerData=element.data(ANIMATE_TIMER_KEY);animationTimerData&&($timeout.cancel(animationTimerData[0].timer),element.removeData(ANIMATE_TIMER_KEY)),runner&&runner.complete(!rejected)}}function applyBlocking(duration){flags.blockTransition&&blockTransitions(node,duration),flags.blockKeyframeAnimation&&blockKeyframeAnimations(node,!!duration)}function closeAndReturnNoopAnimator(){return runner=new $$AnimateRunner({end:endFn,cancel:cancelFn}),waitUntilQuiet(noop),close(),{$$willAnimate:!1,start:function(){return runner},end:endFn}}function onAnimationProgress(event){event.stopPropagation();var ev=event.originalEvent||event,timeStamp=ev.$manualTimeStamp||Date.now(),elapsedTime=parseFloat(ev.elapsedTime.toFixed(ELAPSED_TIME_MAX_DECIMAL_PLACES));Math.max(timeStamp-startTime,0)>=maxDelayTime&&elapsedTime>=maxDuration&&(animationCompleted=!0,close())}function start(){function triggerAnimationStart(){if(!animationClosed){if(applyBlocking(!1),forEach(temporaryStyles,function(entry){var key=entry[0],value=entry[1];node.style[key]=value}),applyAnimationClasses(element,options),$$jqLite.addClass(element,activeClasses),flags.recalculateTimingStyles){if(fullClassName=node.className+" "+preparationClasses,cacheKey=gcsHashFn(node,fullClassName),timings=computeTimings(node,fullClassName,cacheKey),relativeDelay=timings.maxDelay,maxDelay=Math.max(relativeDelay,0),maxDuration=timings.maxDuration,0===maxDuration)return void close();flags.hasTransitions=timings.transitionDuration>0,flags.hasAnimations=timings.animationDuration>0}if(flags.applyAnimationDelay&&(relativeDelay="boolean"!=typeof options.delay&&truthyTimingValue(options.delay)?parseFloat(options.delay):relativeDelay,maxDelay=Math.max(relativeDelay,0),timings.animationDelay=relativeDelay,delayStyle=getCssDelayStyle(relativeDelay,!0),temporaryStyles.push(delayStyle),node.style[delayStyle[0]]=delayStyle[1]),maxDelayTime=maxDelay*ONE_SECOND,maxDurationTime=maxDuration*ONE_SECOND,options.easing){var easeProp,easeVal=options.easing;flags.hasTransitions&&(easeProp=TRANSITION_PROP+TIMING_KEY,temporaryStyles.push([easeProp,easeVal]),node.style[easeProp]=easeVal),flags.hasAnimations&&(easeProp=ANIMATION_PROP+TIMING_KEY,temporaryStyles.push([easeProp,easeVal]),node.style[easeProp]=easeVal)}timings.transitionDuration&&events.push(TRANSITIONEND_EVENT),timings.animationDuration&&events.push(ANIMATIONEND_EVENT),startTime=Date.now();var timerTime=maxDelayTime+CLOSING_TIME_BUFFER*maxDurationTime,endTime=startTime+timerTime,animationsData=element.data(ANIMATE_TIMER_KEY)||[],setupFallbackTimer=!0;if(animationsData.length){var currentTimerData=animationsData[0];setupFallbackTimer=endTime>currentTimerData.expectedEndTime,setupFallbackTimer?$timeout.cancel(currentTimerData.timer):animationsData.push(close)}if(setupFallbackTimer){var timer=$timeout(onAnimationExpired,timerTime,!1);animationsData[0]={timer:timer,expectedEndTime:endTime},animationsData.push(close),element.data(ANIMATE_TIMER_KEY,animationsData)}events.length&&element.on(events.join(" "),onAnimationProgress),options.to&&(options.cleanupStyles&&registerRestorableStyles(restoreStyles,node,Object.keys(options.to)),applyAnimationToStyles(element,options))}}function onAnimationExpired(){var animationsData=element.data(ANIMATE_TIMER_KEY);if(animationsData){for(var i=1;i<animationsData.length;i++)animationsData[i]();element.removeData(ANIMATE_TIMER_KEY)}}if(!animationClosed){if(!node.parentNode)return void close();var playPause=function(playAnimation){if(animationCompleted)animationPaused&&playAnimation&&(animationPaused=!1,close());else if(animationPaused=!playAnimation,timings.animationDuration){var value=blockKeyframeAnimations(node,animationPaused);animationPaused?temporaryStyles.push(value):removeFromArray(temporaryStyles,value)}},maxStagger=itemIndex>0&&(timings.transitionDuration&&0===stagger.transitionDuration||timings.animationDuration&&0===stagger.animationDuration)&&Math.max(stagger.animationDelay,stagger.transitionDelay);maxStagger?$timeout(triggerAnimationStart,Math.floor(maxStagger*itemIndex*ONE_SECOND),!1):triggerAnimationStart(),runnerHost.resume=function(){playPause(!0)},runnerHost.pause=function(){playPause(!1)}}}var options=initialOptions||{};options.$$prepared||(options=prepareAnimationOptions(copy(options)));var restoreStyles={},node=getDomNode(element);if(!node||!node.parentNode||!$$animateQueue.enabled())return closeAndReturnNoopAnimator();var animationClosed,animationPaused,animationCompleted,runner,runnerHost,maxDelay,maxDelayTime,maxDuration,maxDurationTime,startTime,temporaryStyles=[],classes=element.attr("class"),styles=packageStyles(options),events=[];if(0===options.duration||!$sniffer.animations&&!$sniffer.transitions)return closeAndReturnNoopAnimator();var method=options.event&&isArray(options.event)?options.event.join(" "):options.event,isStructural=method&&options.structural,structuralClassName="",addRemoveClassName="";isStructural?structuralClassName=pendClasses(method,EVENT_CLASS_PREFIX,!0):method&&(structuralClassName=method),options.addClass&&(addRemoveClassName+=pendClasses(options.addClass,ADD_CLASS_SUFFIX)),options.removeClass&&(addRemoveClassName.length&&(addRemoveClassName+=" "),addRemoveClassName+=pendClasses(options.removeClass,REMOVE_CLASS_SUFFIX)),options.applyClassesEarly&&addRemoveClassName.length&&applyAnimationClasses(element,options);var preparationClasses=[structuralClassName,addRemoveClassName].join(" ").trim(),fullClassName=classes+" "+preparationClasses,activeClasses=pendClasses(preparationClasses,ACTIVE_CLASS_SUFFIX),hasToStyles=styles.to&&Object.keys(styles.to).length>0,containsKeyframeAnimation=(options.keyframeStyle||"").length>0;if(!containsKeyframeAnimation&&!hasToStyles&&!preparationClasses)return closeAndReturnNoopAnimator();var cacheKey,stagger;if(options.stagger>0){var staggerVal=parseFloat(options.stagger);stagger={transitionDelay:staggerVal,animationDelay:staggerVal,transitionDuration:0,animationDuration:0}}else cacheKey=gcsHashFn(node,fullClassName),stagger=computeCachedCssStaggerStyles(node,preparationClasses,cacheKey,DETECT_STAGGER_CSS_PROPERTIES);options.$$skipPreparationClasses||$$jqLite.addClass(element,preparationClasses);var applyOnlyDuration;if(options.transitionStyle){var transitionStyle=[TRANSITION_PROP,options.transitionStyle];applyInlineStyle(node,transitionStyle),temporaryStyles.push(transitionStyle)}if(options.duration>=0){applyOnlyDuration=node.style[TRANSITION_PROP].length>0;var durationStyle=getCssTransitionDurationStyle(options.duration,applyOnlyDuration);applyInlineStyle(node,durationStyle),temporaryStyles.push(durationStyle)}if(options.keyframeStyle){var keyframeStyle=[ANIMATION_PROP,options.keyframeStyle];applyInlineStyle(node,keyframeStyle),temporaryStyles.push(keyframeStyle)}var itemIndex=stagger?options.staggerIndex>=0?options.staggerIndex:gcsLookup.count(cacheKey):0,isFirst=0===itemIndex;isFirst&&!options.skipBlocking&&blockTransitions(node,SAFE_FAST_FORWARD_DURATION_VALUE);var timings=computeTimings(node,fullClassName,cacheKey),relativeDelay=timings.maxDelay;maxDelay=Math.max(relativeDelay,0),maxDuration=timings.maxDuration;var flags={};if(flags.hasTransitions=timings.transitionDuration>0,flags.hasAnimations=timings.animationDuration>0,flags.hasTransitionAll=flags.hasTransitions&&"all"==timings.transitionProperty,flags.applyTransitionDuration=hasToStyles&&(flags.hasTransitions&&!flags.hasTransitionAll||flags.hasAnimations&&!flags.hasTransitions),flags.applyAnimationDuration=options.duration&&flags.hasAnimations,flags.applyTransitionDelay=truthyTimingValue(options.delay)&&(flags.applyTransitionDuration||flags.hasTransitions),flags.applyAnimationDelay=truthyTimingValue(options.delay)&&flags.hasAnimations,flags.recalculateTimingStyles=addRemoveClassName.length>0,(flags.applyTransitionDuration||flags.applyAnimationDuration)&&(maxDuration=options.duration?parseFloat(options.duration):maxDuration,flags.applyTransitionDuration&&(flags.hasTransitions=!0,timings.transitionDuration=maxDuration,applyOnlyDuration=node.style[TRANSITION_PROP+PROPERTY_KEY].length>0,temporaryStyles.push(getCssTransitionDurationStyle(maxDuration,applyOnlyDuration))),flags.applyAnimationDuration&&(flags.hasAnimations=!0,timings.animationDuration=maxDuration,temporaryStyles.push(getCssKeyframeDurationStyle(maxDuration)))),0===maxDuration&&!flags.recalculateTimingStyles)return closeAndReturnNoopAnimator();if(null!=options.delay){var delayStyle;"boolean"!=typeof options.delay&&(delayStyle=parseFloat(options.delay),maxDelay=Math.max(delayStyle,0)),flags.applyTransitionDelay&&temporaryStyles.push(getCssDelayStyle(delayStyle)),flags.applyAnimationDelay&&temporaryStyles.push(getCssDelayStyle(delayStyle,!0))}return null==options.duration&&timings.transitionDuration>0&&(flags.recalculateTimingStyles=flags.recalculateTimingStyles||isFirst),maxDelayTime=maxDelay*ONE_SECOND,maxDurationTime=maxDuration*ONE_SECOND,options.skipBlocking||(flags.blockTransition=timings.transitionDuration>0,flags.blockKeyframeAnimation=timings.animationDuration>0&&stagger.animationDelay>0&&0===stagger.animationDuration),options.from&&(options.cleanupStyles&&registerRestorableStyles(restoreStyles,node,Object.keys(options.from)),applyAnimationFromStyles(element,options)),flags.blockTransition||flags.blockKeyframeAnimation?applyBlocking(maxDuration):options.skipBlocking||blockTransitions(node,!1),{$$willAnimate:!0,end:endFn,start:function(){return animationClosed?void 0:(runnerHost={end:endFn,cancel:cancelFn,resume:null,pause:null},runner=new $$AnimateRunner(runnerHost),waitUntilQuiet(start),runner)}}}}]}],$$AnimateCssDriverProvider=["$$animationProvider",function($$animationProvider){function isDocumentFragment(node){return node.parentNode&&11===node.parentNode.nodeType}$$animationProvider.drivers.push("$$animateCssDriver");var NG_ANIMATE_SHIM_CLASS_NAME="ng-animate-shim",NG_ANIMATE_ANCHOR_CLASS_NAME="ng-anchor",NG_OUT_ANCHOR_CLASS_NAME="ng-anchor-out",NG_IN_ANCHOR_CLASS_NAME="ng-anchor-in";this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function($animateCss,$rootScope,$$AnimateRunner,$rootElement,$sniffer,$$jqLite,$document){function filterCssClasses(classes){return classes.replace(/\bng-\S+\b/g,"")}function getUniqueValues(a,b){return isString(a)&&(a=a.split(" ")),isString(b)&&(b=b.split(" ")),a.filter(function(val){return-1===b.indexOf(val)}).join(" ")}function prepareAnchoredAnimation(classes,outAnchor,inAnchor){function calculateAnchorStyles(anchor){var styles={},coords=getDomNode(anchor).getBoundingClientRect();return forEach(["width","height","top","left"],function(key){var value=coords[key];switch(key){case"top":value+=bodyNode.scrollTop;break;case"left":value+=bodyNode.scrollLeft}styles[key]=Math.floor(value)+"px"}),styles}function prepareOutAnimation(){var animator=$animateCss(clone,{addClass:NG_OUT_ANCHOR_CLASS_NAME,delay:!0,from:calculateAnchorStyles(outAnchor)});return animator.$$willAnimate?animator:null}function getClassVal(element){return element.attr("class")||""}function prepareInAnimation(){var endingClasses=filterCssClasses(getClassVal(inAnchor)),toAdd=getUniqueValues(endingClasses,startingClasses),toRemove=getUniqueValues(startingClasses,endingClasses),animator=$animateCss(clone,{to:calculateAnchorStyles(inAnchor),addClass:NG_IN_ANCHOR_CLASS_NAME+" "+toAdd,removeClass:NG_OUT_ANCHOR_CLASS_NAME+" "+toRemove,delay:!0});return animator.$$willAnimate?animator:null}function end(){clone.remove(),outAnchor.removeClass(NG_ANIMATE_SHIM_CLASS_NAME),inAnchor.removeClass(NG_ANIMATE_SHIM_CLASS_NAME)}var clone=jqLite(getDomNode(outAnchor).cloneNode(!0)),startingClasses=filterCssClasses(getClassVal(clone));outAnchor.addClass(NG_ANIMATE_SHIM_CLASS_NAME),inAnchor.addClass(NG_ANIMATE_SHIM_CLASS_NAME),clone.addClass(NG_ANIMATE_ANCHOR_CLASS_NAME),rootBodyElement.append(clone);var animatorIn,animatorOut=prepareOutAnimation();if(!animatorOut&&(animatorIn=prepareInAnimation(),!animatorIn))return end();var startingAnimator=animatorOut||animatorIn;return{start:function(){function endFn(){currentAnimation&&currentAnimation.end()}var runner,currentAnimation=startingAnimator.start();return currentAnimation.done(function(){return currentAnimation=null,!animatorIn&&(animatorIn=prepareInAnimation())?(currentAnimation=animatorIn.start(),currentAnimation.done(function(){currentAnimation=null,end(),runner.complete()}),currentAnimation):(end(),void runner.complete())}),runner=new $$AnimateRunner({end:endFn,cancel:endFn})}}}function prepareFromToAnchorAnimation(from,to,classes,anchors){var fromAnimation=prepareRegularAnimation(from,noop),toAnimation=prepareRegularAnimation(to,noop),anchorAnimations=[];return forEach(anchors,function(anchor){var outElement=anchor.out,inElement=anchor["in"],animator=prepareAnchoredAnimation(classes,outElement,inElement);animator&&anchorAnimations.push(animator)}),fromAnimation||toAnimation||0!==anchorAnimations.length?{start:function(){function endFn(){forEach(animationRunners,function(runner){runner.end()})}var animationRunners=[];fromAnimation&&animationRunners.push(fromAnimation.start()),toAnimation&&animationRunners.push(toAnimation.start()),forEach(anchorAnimations,function(animation){animationRunners.push(animation.start())});var runner=new $$AnimateRunner({end:endFn,cancel:endFn});return $$AnimateRunner.all(animationRunners,function(status){runner.complete(status)}),runner}}:void 0}function prepareRegularAnimation(animationDetails){var element=animationDetails.element,options=animationDetails.options||{};animationDetails.structural&&(options.event=animationDetails.event,options.structural=!0,options.applyClassesEarly=!0,"leave"===animationDetails.event&&(options.onDone=options.domOperation)),options.preparationClasses&&(options.event=concatWithSpace(options.event,options.preparationClasses));var animator=$animateCss(element,options);return animator.$$willAnimate?animator:null}if(!$sniffer.animations&&!$sniffer.transitions)return noop;var bodyNode=$document[0].body,rootNode=getDomNode($rootElement),rootBodyElement=jqLite(isDocumentFragment(rootNode)||bodyNode.contains(rootNode)?rootNode:bodyNode);applyAnimationClassesFactory($$jqLite);return function(animationDetails){return animationDetails.from&&animationDetails.to?prepareFromToAnchorAnimation(animationDetails.from,animationDetails.to,animationDetails.classes,animationDetails.anchors):prepareRegularAnimation(animationDetails)}}]}],$$AnimateJsProvider=["$animateProvider",function($animateProvider){this.$get=["$injector","$$AnimateRunner","$$jqLite",function($injector,$$AnimateRunner,$$jqLite){function lookupAnimations(classes){classes=isArray(classes)?classes:classes.split(" ");for(var matches=[],flagMap={},i=0;i<classes.length;i++){var klass=classes[i],animationFactory=$animateProvider.$$registeredAnimations[klass];animationFactory&&!flagMap[klass]&&(matches.push($injector.get(animationFactory)),flagMap[klass]=!0)}return matches}var applyAnimationClasses=applyAnimationClassesFactory($$jqLite);return function(element,event,classes,options){function applyOptions(){options.domOperation(),applyAnimationClasses(element,options)}function close(){animationClosed=!0,applyOptions(),applyAnimationStyles(element,options)}function executeAnimationFn(fn,element,event,options,onDone){var args;switch(event){case"animate":args=[element,options.from,options.to,onDone];break;case"setClass":args=[element,classesToAdd,classesToRemove,onDone];break;case"addClass":args=[element,classesToAdd,onDone];break;case"removeClass":args=[element,classesToRemove,onDone];break;default:args=[element,onDone]}args.push(options);var value=fn.apply(fn,args);if(value)if(isFunction(value.start)&&(value=value.start()),value instanceof $$AnimateRunner)value.done(onDone);else if(isFunction(value))return value;return noop}function groupEventedAnimations(element,event,options,animations,fnName){var operations=[];return forEach(animations,function(ani){var animation=ani[fnName];animation&&operations.push(function(){var runner,endProgressCb,resolved=!1,onAnimationComplete=function(rejected){resolved||(resolved=!0,(endProgressCb||noop)(rejected),runner.complete(!rejected))};return runner=new $$AnimateRunner({end:function(){onAnimationComplete()},cancel:function(){onAnimationComplete(!0)}}),endProgressCb=executeAnimationFn(animation,element,event,options,function(result){var cancelled=result===!1;onAnimationComplete(cancelled)}),runner})}),operations}function packageAnimations(element,event,options,animations,fnName){var operations=groupEventedAnimations(element,event,options,animations,fnName);if(0===operations.length){var a,b;"beforeSetClass"===fnName?(a=groupEventedAnimations(element,"removeClass",options,animations,"beforeRemoveClass"),b=groupEventedAnimations(element,"addClass",options,animations,"beforeAddClass")):"setClass"===fnName&&(a=groupEventedAnimations(element,"removeClass",options,animations,"removeClass"),b=groupEventedAnimations(element,"addClass",options,animations,"addClass")),a&&(operations=operations.concat(a)),b&&(operations=operations.concat(b))}if(0!==operations.length)return function(callback){var runners=[];return operations.length&&forEach(operations,function(animateFn){runners.push(animateFn())}),runners.length?$$AnimateRunner.all(runners,callback):callback(),function(reject){forEach(runners,function(runner){reject?runner.cancel():runner.end()})}}}var animationClosed=!1;3===arguments.length&&isObject(classes)&&(options=classes,classes=null),options=prepareAnimationOptions(options),classes||(classes=element.attr("class")||"",options.addClass&&(classes+=" "+options.addClass),options.removeClass&&(classes+=" "+options.removeClass));var before,after,classesToAdd=options.addClass,classesToRemove=options.removeClass,animations=lookupAnimations(classes);if(animations.length){var afterFn,beforeFn;"leave"==event?(beforeFn="leave",afterFn="afterLeave"):(beforeFn="before"+event.charAt(0).toUpperCase()+event.substr(1),afterFn=event),"enter"!==event&&"move"!==event&&(before=packageAnimations(element,event,options,animations,beforeFn)),after=packageAnimations(element,event,options,animations,afterFn)}if(before||after){var runner;return{$$willAnimate:!0,end:function(){return runner?runner.end():(close(),runner=new $$AnimateRunner,runner.complete(!0)),runner},start:function(){function onComplete(success){close(success),runner.complete(success)}function endAnimations(cancelled){animationClosed||((closeActiveAnimations||noop)(cancelled),onComplete(cancelled))}if(runner)return runner;runner=new $$AnimateRunner;var closeActiveAnimations,chain=[];return before&&chain.push(function(fn){closeActiveAnimations=before(fn)}),chain.length?chain.push(function(fn){applyOptions(),fn(!0)}):applyOptions(),after&&chain.push(function(fn){closeActiveAnimations=after(fn)}),runner.setHost({end:function(){endAnimations()},cancel:function(){endAnimations(!0)}}),$$AnimateRunner.chain(chain,onComplete),runner;
}}}}}]}],$$AnimateJsDriverProvider=["$$animationProvider",function($$animationProvider){$$animationProvider.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function($$animateJs,$$AnimateRunner){function prepareAnimation(animationDetails){var element=animationDetails.element,event=animationDetails.event,options=animationDetails.options,classes=animationDetails.classes;return $$animateJs(element,event,classes,options)}return function(animationDetails){if(animationDetails.from&&animationDetails.to){var fromAnimation=prepareAnimation(animationDetails.from),toAnimation=prepareAnimation(animationDetails.to);if(!fromAnimation&&!toAnimation)return;return{start:function(){function endFnFactory(){return function(){forEach(animationRunners,function(runner){runner.end()})}}function done(status){runner.complete(status)}var animationRunners=[];fromAnimation&&animationRunners.push(fromAnimation.start()),toAnimation&&animationRunners.push(toAnimation.start()),$$AnimateRunner.all(animationRunners,done);var runner=new $$AnimateRunner({end:endFnFactory(),cancel:endFnFactory()});return runner}}}return prepareAnimation(animationDetails)}}]}],NG_ANIMATE_ATTR_NAME="data-ng-animate",NG_ANIMATE_PIN_DATA="$ngAnimatePin",$$AnimateQueueProvider=["$animateProvider",function($animateProvider){function makeTruthyCssClassMap(classString){if(!classString)return null;var keys=classString.split(ONE_SPACE),map=Object.create(null);return forEach(keys,function(key){map[key]=!0}),map}function hasMatchingClasses(newClassString,currentClassString){if(newClassString&&currentClassString){var currentClassMap=makeTruthyCssClassMap(currentClassString);return newClassString.split(ONE_SPACE).some(function(className){return currentClassMap[className]})}}function isAllowed(ruleType,element,currentAnimation,previousAnimation){return rules[ruleType].some(function(fn){return fn(element,currentAnimation,previousAnimation)})}function hasAnimationClasses(animation,and){var a=(animation.addClass||"").length>0,b=(animation.removeClass||"").length>0;return and?a&&b:a||b}var PRE_DIGEST_STATE=1,RUNNING_STATE=2,ONE_SPACE=" ",rules=this.rules={skip:[],cancel:[],join:[]};rules.join.push(function(element,newAnimation,currentAnimation){return!newAnimation.structural&&hasAnimationClasses(newAnimation)}),rules.skip.push(function(element,newAnimation,currentAnimation){return!newAnimation.structural&&!hasAnimationClasses(newAnimation)}),rules.skip.push(function(element,newAnimation,currentAnimation){return"leave"==currentAnimation.event&&newAnimation.structural}),rules.skip.push(function(element,newAnimation,currentAnimation){return currentAnimation.structural&&currentAnimation.state===RUNNING_STATE&&!newAnimation.structural}),rules.cancel.push(function(element,newAnimation,currentAnimation){return currentAnimation.structural&&newAnimation.structural}),rules.cancel.push(function(element,newAnimation,currentAnimation){return currentAnimation.state===RUNNING_STATE&&newAnimation.structural}),rules.cancel.push(function(element,newAnimation,currentAnimation){if(currentAnimation.structural)return!1;var nA=newAnimation.addClass,nR=newAnimation.removeClass,cA=currentAnimation.addClass,cR=currentAnimation.removeClass;return isUndefined(nA)&&isUndefined(nR)||isUndefined(cA)&&isUndefined(cR)?!1:hasMatchingClasses(nA,cR)||hasMatchingClasses(nR,cA)}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$HashMap","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow",function($$rAF,$rootScope,$rootElement,$document,$$HashMap,$$animation,$$AnimateRunner,$templateRequest,$$jqLite,$$forceReflow){function postDigestTaskFactory(){var postDigestCalled=!1;return function(fn){postDigestCalled?fn():$rootScope.$$postDigest(function(){postDigestCalled=!0,fn()})}}function normalizeAnimationDetails(element,animation){return mergeAnimationDetails(element,animation,{})}function findCallbacks(parent,element,event){var targetNode=getDomNode(element),targetParentNode=getDomNode(parent),matches=[],entries=callbackRegistry[event];return entries&&forEach(entries,function(entry){contains.call(entry.node,targetNode)?matches.push(entry.callback):"leave"===event&&contains.call(entry.node,targetParentNode)&&matches.push(entry.callback)}),matches}function filterFromRegistry(list,matchContainer,matchCallback){var containerNode=extractElementNode(matchContainer);return list.filter(function(entry){var isMatch=entry.node===containerNode&&(!matchCallback||entry.callback===matchCallback);return!isMatch})}function cleanupEventListeners(phase,element){"close"!==phase||element[0].parentNode||$animate.off(element)}function queueAnimation(element,event,initialOptions){function notifyProgress(runner,event,phase,data){runInNextPostDigestOrNow(function(){var callbacks=findCallbacks(parent,element,event);callbacks.length?$$rAF(function(){forEach(callbacks,function(callback){callback(element,phase,data)}),cleanupEventListeners(phase,element)}):cleanupEventListeners(phase,element)}),runner.progress(event,phase,data)}function close(reject){clearGeneratedClasses(element,options),applyAnimationClasses(element,options),applyAnimationStyles(element,options),options.domOperation(),runner.complete(!reject)}var node,parent,options=copy(initialOptions);element=stripCommentsFromElement(element),element&&(node=getDomNode(element),parent=element.parent()),options=prepareAnimationOptions(options);var runner=new $$AnimateRunner,runInNextPostDigestOrNow=postDigestTaskFactory();if(isArray(options.addClass)&&(options.addClass=options.addClass.join(" ")),options.addClass&&!isString(options.addClass)&&(options.addClass=null),isArray(options.removeClass)&&(options.removeClass=options.removeClass.join(" ")),options.removeClass&&!isString(options.removeClass)&&(options.removeClass=null),options.from&&!isObject(options.from)&&(options.from=null),options.to&&!isObject(options.to)&&(options.to=null),!node)return close(),runner;var className=[node.className,options.addClass,options.removeClass].join(" ");if(!isAnimatableClassName(className))return close(),runner;var isStructural=["enter","move","leave"].indexOf(event)>=0,documentHidden=$document[0].hidden,skipAnimations=!animationsEnabled||documentHidden||disabledElementsLookup.get(node),existingAnimation=!skipAnimations&&activeAnimationsLookup.get(node)||{},hasExistingAnimation=!!existingAnimation.state;if(skipAnimations||hasExistingAnimation&&existingAnimation.state==PRE_DIGEST_STATE||(skipAnimations=!areAnimationsAllowed(element,parent,event)),skipAnimations)return documentHidden&&notifyProgress(runner,event,"start"),close(),documentHidden&&notifyProgress(runner,event,"close"),runner;isStructural&&closeChildAnimations(element);var newAnimation={structural:isStructural,element:element,event:event,addClass:options.addClass,removeClass:options.removeClass,close:close,options:options,runner:runner};if(hasExistingAnimation){var skipAnimationFlag=isAllowed("skip",element,newAnimation,existingAnimation);if(skipAnimationFlag)return existingAnimation.state===RUNNING_STATE?(close(),runner):(mergeAnimationDetails(element,existingAnimation,newAnimation),existingAnimation.runner);var cancelAnimationFlag=isAllowed("cancel",element,newAnimation,existingAnimation);if(cancelAnimationFlag)if(existingAnimation.state===RUNNING_STATE)existingAnimation.runner.end();else{if(!existingAnimation.structural)return mergeAnimationDetails(element,existingAnimation,newAnimation),existingAnimation.runner;existingAnimation.close()}else{var joinAnimationFlag=isAllowed("join",element,newAnimation,existingAnimation);if(joinAnimationFlag){if(existingAnimation.state!==RUNNING_STATE)return applyGeneratedPreparationClasses(element,isStructural?event:null,options),event=newAnimation.event=existingAnimation.event,options=mergeAnimationDetails(element,existingAnimation,newAnimation),existingAnimation.runner;normalizeAnimationDetails(element,newAnimation)}}}else normalizeAnimationDetails(element,newAnimation);var isValidAnimation=newAnimation.structural;if(isValidAnimation||(isValidAnimation="animate"===newAnimation.event&&Object.keys(newAnimation.options.to||{}).length>0||hasAnimationClasses(newAnimation)),!isValidAnimation)return close(),clearElementAnimationState(element),runner;var counter=(existingAnimation.counter||0)+1;return newAnimation.counter=counter,markElementAnimationState(element,PRE_DIGEST_STATE,newAnimation),$rootScope.$$postDigest(function(){var animationDetails=activeAnimationsLookup.get(node),animationCancelled=!animationDetails;animationDetails=animationDetails||{};var parentElement=element.parent()||[],isValidAnimation=parentElement.length>0&&("animate"===animationDetails.event||animationDetails.structural||hasAnimationClasses(animationDetails));if(animationCancelled||animationDetails.counter!==counter||!isValidAnimation)return animationCancelled&&(applyAnimationClasses(element,options),applyAnimationStyles(element,options)),(animationCancelled||isStructural&&animationDetails.event!==event)&&(options.domOperation(),runner.end()),void(isValidAnimation||clearElementAnimationState(element));event=!animationDetails.structural&&hasAnimationClasses(animationDetails,!0)?"setClass":animationDetails.event,markElementAnimationState(element,RUNNING_STATE);var realRunner=$$animation(element,event,animationDetails.options);runner.setHost(realRunner),notifyProgress(runner,event,"start",{}),realRunner.done(function(status){close(!status);var animationDetails=activeAnimationsLookup.get(node);animationDetails&&animationDetails.counter===counter&&clearElementAnimationState(getDomNode(element)),notifyProgress(runner,event,"close",{})})}),runner}function closeChildAnimations(element){var node=getDomNode(element),children=node.querySelectorAll("["+NG_ANIMATE_ATTR_NAME+"]");forEach(children,function(child){var state=parseInt(child.getAttribute(NG_ANIMATE_ATTR_NAME)),animationDetails=activeAnimationsLookup.get(child);if(animationDetails)switch(state){case RUNNING_STATE:animationDetails.runner.end();case PRE_DIGEST_STATE:activeAnimationsLookup.remove(child)}})}function clearElementAnimationState(element){var node=getDomNode(element);node.removeAttribute(NG_ANIMATE_ATTR_NAME),activeAnimationsLookup.remove(node)}function isMatchingElement(nodeOrElmA,nodeOrElmB){return getDomNode(nodeOrElmA)===getDomNode(nodeOrElmB)}function areAnimationsAllowed(element,parentElement,event){var animateChildren,bodyElement=jqLite($document[0].body),bodyElementDetected=isMatchingElement(element,bodyElement)||"HTML"===element[0].nodeName,rootElementDetected=isMatchingElement(element,$rootElement),parentAnimationDetected=!1,elementDisabled=disabledElementsLookup.get(getDomNode(element)),parentHost=jqLite.data(element[0],NG_ANIMATE_PIN_DATA);for(parentHost&&(parentElement=parentHost),parentElement=getDomNode(parentElement);parentElement&&(rootElementDetected||(rootElementDetected=isMatchingElement(parentElement,$rootElement)),parentElement.nodeType===ELEMENT_NODE);){var details=activeAnimationsLookup.get(parentElement)||{};if(!parentAnimationDetected){var parentElementDisabled=disabledElementsLookup.get(parentElement);if(parentElementDisabled===!0&&elementDisabled!==!1){elementDisabled=!0;break}parentElementDisabled===!1&&(elementDisabled=!1),parentAnimationDetected=details.structural}if(isUndefined(animateChildren)||animateChildren===!0){var value=jqLite.data(parentElement,NG_ANIMATE_CHILDREN_DATA);isDefined(value)&&(animateChildren=value)}if(parentAnimationDetected&&animateChildren===!1)break;if(bodyElementDetected||(bodyElementDetected=isMatchingElement(parentElement,bodyElement)),bodyElementDetected&&rootElementDetected)break;parentElement=rootElementDetected||!(parentHost=jqLite.data(parentElement,NG_ANIMATE_PIN_DATA))?parentElement.parentNode:getDomNode(parentHost)}var allowAnimation=(!parentAnimationDetected||animateChildren)&&elementDisabled!==!0;return allowAnimation&&rootElementDetected&&bodyElementDetected}function markElementAnimationState(element,state,details){details=details||{},details.state=state;var node=getDomNode(element);node.setAttribute(NG_ANIMATE_ATTR_NAME,state);var oldValue=activeAnimationsLookup.get(node),newValue=oldValue?extend(oldValue,details):details;activeAnimationsLookup.put(node,newValue)}var activeAnimationsLookup=new $$HashMap,disabledElementsLookup=new $$HashMap,animationsEnabled=null,deregisterWatch=$rootScope.$watch(function(){return 0===$templateRequest.totalPendingRequests},function(isEmpty){isEmpty&&(deregisterWatch(),$rootScope.$$postDigest(function(){$rootScope.$$postDigest(function(){null===animationsEnabled&&(animationsEnabled=!0)})}))}),callbackRegistry={},classNameFilter=$animateProvider.classNameFilter(),isAnimatableClassName=classNameFilter?function(className){return classNameFilter.test(className)}:function(){return!0},applyAnimationClasses=applyAnimationClassesFactory($$jqLite),contains=window.Node.prototype.contains||function(arg){return this===arg||!!(16&this.compareDocumentPosition(arg))},$animate={on:function(event,container,callback){var node=extractElementNode(container);callbackRegistry[event]=callbackRegistry[event]||[],callbackRegistry[event].push({node:node,callback:callback}),jqLite(container).on("$destroy",function(){var animationDetails=activeAnimationsLookup.get(node);animationDetails||$animate.off(event,container,callback)})},off:function(event,container,callback){if(1!==arguments.length||angular.isString(arguments[0])){var entries=callbackRegistry[event];entries&&(callbackRegistry[event]=1===arguments.length?null:filterFromRegistry(entries,container,callback))}else{container=arguments[0];for(var eventType in callbackRegistry)callbackRegistry[eventType]=filterFromRegistry(callbackRegistry[eventType],container)}},pin:function(element,parentElement){assertArg(isElement(element),"element","not an element"),assertArg(isElement(parentElement),"parentElement","not an element"),element.data(NG_ANIMATE_PIN_DATA,parentElement)},push:function(element,event,options,domOperation){return options=options||{},options.domOperation=domOperation,queueAnimation(element,event,options)},enabled:function(element,bool){var argCount=arguments.length;if(0===argCount)bool=!!animationsEnabled;else{var hasElement=isElement(element);if(hasElement){var node=getDomNode(element),recordExists=disabledElementsLookup.get(node);1===argCount?bool=!recordExists:disabledElementsLookup.put(node,!bool)}else bool=animationsEnabled=!!element}return bool}};return $animate}]}],$$AnimationProvider=["$animateProvider",function($animateProvider){function setRunner(element,runner){element.data(RUNNER_STORAGE_KEY,runner)}function removeRunner(element){element.removeData(RUNNER_STORAGE_KEY)}function getRunner(element){return element.data(RUNNER_STORAGE_KEY)}var NG_ANIMATE_REF_ATTR="ng-animate-ref",drivers=this.drivers=[],RUNNER_STORAGE_KEY="$$animationRunner";this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$HashMap","$$rAFScheduler",function($$jqLite,$rootScope,$injector,$$AnimateRunner,$$HashMap,$$rAFScheduler){function sortAnimations(animations){function processNode(entry){if(entry.processed)return entry;entry.processed=!0;var elementNode=entry.domNode,parentNode=elementNode.parentNode;lookup.put(elementNode,entry);for(var parentEntry;parentNode;){if(parentEntry=lookup.get(parentNode)){parentEntry.processed||(parentEntry=processNode(parentEntry));break}parentNode=parentNode.parentNode}return(parentEntry||tree).children.push(entry),entry}function flatten(tree){var i,result=[],queue=[];for(i=0;i<tree.children.length;i++)queue.push(tree.children[i]);var remainingLevelEntries=queue.length,nextLevelEntries=0,row=[];for(i=0;i<queue.length;i++){var entry=queue[i];0>=remainingLevelEntries&&(remainingLevelEntries=nextLevelEntries,nextLevelEntries=0,result.push(row),row=[]),row.push(entry.fn),entry.children.forEach(function(childEntry){nextLevelEntries++,queue.push(childEntry)}),remainingLevelEntries--}return row.length&&result.push(row),result}var i,tree={children:[]},lookup=new $$HashMap;for(i=0;i<animations.length;i++){var animation=animations[i];lookup.put(animation.domNode,animations[i]={domNode:animation.domNode,fn:animation.fn,children:[]})}for(i=0;i<animations.length;i++)processNode(animations[i]);return flatten(tree)}var animationQueue=[],applyAnimationClasses=applyAnimationClassesFactory($$jqLite);return function(element,event,options){function getAnchorNodes(node){var SELECTOR="["+NG_ANIMATE_REF_ATTR+"]",items=node.hasAttribute(NG_ANIMATE_REF_ATTR)?[node]:node.querySelectorAll(SELECTOR),anchors=[];return forEach(items,function(node){var attr=node.getAttribute(NG_ANIMATE_REF_ATTR);attr&&attr.length&&anchors.push(node)}),anchors}function groupAnimations(animations){var preparedAnimations=[],refLookup={};forEach(animations,function(animation,index){var element=animation.element,node=getDomNode(element),event=animation.event,enterOrMove=["enter","move"].indexOf(event)>=0,anchorNodes=animation.structural?getAnchorNodes(node):[];if(anchorNodes.length){var direction=enterOrMove?"to":"from";forEach(anchorNodes,function(anchor){var key=anchor.getAttribute(NG_ANIMATE_REF_ATTR);refLookup[key]=refLookup[key]||{},refLookup[key][direction]={animationID:index,element:jqLite(anchor)}})}else preparedAnimations.push(animation)});var usedIndicesLookup={},anchorGroups={};return forEach(refLookup,function(operations,key){var from=operations.from,to=operations.to;if(!from||!to){var index=from?from.animationID:to.animationID,indexKey=index.toString();return void(usedIndicesLookup[indexKey]||(usedIndicesLookup[indexKey]=!0,preparedAnimations.push(animations[index])))}var fromAnimation=animations[from.animationID],toAnimation=animations[to.animationID],lookupKey=from.animationID.toString();if(!anchorGroups[lookupKey]){var group=anchorGroups[lookupKey]={structural:!0,beforeStart:function(){fromAnimation.beforeStart(),toAnimation.beforeStart()},close:function(){fromAnimation.close(),toAnimation.close()},classes:cssClassesIntersection(fromAnimation.classes,toAnimation.classes),from:fromAnimation,to:toAnimation,anchors:[]};group.classes.length?preparedAnimations.push(group):(preparedAnimations.push(fromAnimation),preparedAnimations.push(toAnimation))}anchorGroups[lookupKey].anchors.push({out:from.element,"in":to.element})}),preparedAnimations}function cssClassesIntersection(a,b){a=a.split(" "),b=b.split(" ");for(var matches=[],i=0;i<a.length;i++){var aa=a[i];if("ng-"!==aa.substring(0,3))for(var j=0;j<b.length;j++)if(aa===b[j]){matches.push(aa);break}}return matches.join(" ")}function invokeFirstDriver(animationDetails){for(var i=drivers.length-1;i>=0;i--){var driverName=drivers[i];if($injector.has(driverName)){var factory=$injector.get(driverName),driver=factory(animationDetails);if(driver)return driver}}}function beforeStart(){element.addClass(NG_ANIMATE_CLASSNAME),tempClasses&&$$jqLite.addClass(element,tempClasses),prepareClassName&&($$jqLite.removeClass(element,prepareClassName),prepareClassName=null)}function updateAnimationRunners(animation,newRunner){function update(element){var runner=getRunner(element);runner&&runner.setHost(newRunner)}animation.from&&animation.to?(update(animation.from.element),update(animation.to.element)):update(animation.element)}function handleDestroyedElement(){var runner=getRunner(element);!runner||"leave"===event&&options.$$domOperationFired||runner.end()}function close(rejected){element.off("$destroy",handleDestroyedElement),removeRunner(element),applyAnimationClasses(element,options),applyAnimationStyles(element,options),options.domOperation(),tempClasses&&$$jqLite.removeClass(element,tempClasses),element.removeClass(NG_ANIMATE_CLASSNAME),runner.complete(!rejected)}options=prepareAnimationOptions(options);var isStructural=["enter","move","leave"].indexOf(event)>=0,runner=new $$AnimateRunner({end:function(){close()},cancel:function(){close(!0)}});if(!drivers.length)return close(),runner;setRunner(element,runner);var classes=mergeClasses(element.attr("class"),mergeClasses(options.addClass,options.removeClass)),tempClasses=options.tempClasses;tempClasses&&(classes+=" "+tempClasses,options.tempClasses=null);var prepareClassName;return isStructural&&(prepareClassName="ng-"+event+PREPARE_CLASS_SUFFIX,$$jqLite.addClass(element,prepareClassName)),animationQueue.push({element:element,classes:classes,event:event,structural:isStructural,options:options,beforeStart:beforeStart,close:close}),element.on("$destroy",handleDestroyedElement),animationQueue.length>1?runner:($rootScope.$$postDigest(function(){var animations=[];forEach(animationQueue,function(entry){getRunner(entry.element)?animations.push(entry):entry.close()}),animationQueue.length=0;var groupedAnimations=groupAnimations(animations),toBeSortedAnimations=[];forEach(groupedAnimations,function(animationEntry){toBeSortedAnimations.push({domNode:getDomNode(animationEntry.from?animationEntry.from.element:animationEntry.element),fn:function(){animationEntry.beforeStart();var startAnimationFn,closeFn=animationEntry.close,targetElement=animationEntry.anchors?animationEntry.from.element||animationEntry.to.element:animationEntry.element;if(getRunner(targetElement)){var operation=invokeFirstDriver(animationEntry);operation&&(startAnimationFn=operation.start)}if(startAnimationFn){var animationRunner=startAnimationFn();animationRunner.done(function(status){closeFn(!status)}),updateAnimationRunners(animationEntry,animationRunner)}else closeFn()}})}),$$rAFScheduler(sortAnimations(toBeSortedAnimations))}),runner)}}]}],ngAnimateSwapDirective=["$animate","$rootScope",function($animate,$rootScope){return{restrict:"A",transclude:"element",terminal:!0,priority:600,link:function(scope,$element,attrs,ctrl,$transclude){var previousElement,previousScope;scope.$watchCollection(attrs.ngAnimateSwap||attrs["for"],function(value){previousElement&&$animate.leave(previousElement),previousScope&&(previousScope.$destroy(),previousScope=null),(value||0===value)&&(previousScope=scope.$new(),$transclude(previousScope,function(element){previousElement=element,$animate.enter(element,null,$element)}))})}}}];angular.module("ngAnimate",[]).directive("ngAnimateSwap",ngAnimateSwapDirective).directive("ngAnimateChildren",$$AnimateChildrenDirective).factory("$$rAFScheduler",$$rAFSchedulerFactory).provider("$$animateQueue",$$AnimateQueueProvider).provider("$$animation",$$AnimationProvider).provider("$animateCss",$AnimateCssProvider).provider("$$animateCssDriver",$$AnimateCssDriverProvider).provider("$$animateJs",$$AnimateJsProvider).provider("$$animateJsDriver",$$AnimateJsDriverProvider)}(window,window.angular)}]);